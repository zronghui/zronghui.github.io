<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>django - zronghui的博客</title><meta description="[TOC]"><meta property="og:type" content="blog"><meta property="og:title" content="zronghui"><meta property="og:url" content="https://zronghui.github.io/"><meta property="og:site_name" content="zronghui"><meta property="og:description" content="[TOC]"><meta property="og:image" content="https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png# https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg"><meta property="article:published_time" content="2020-03-07T01:23:57.000Z"><meta property="article:modified_time" content="2020-09-08T15:47:13.000Z"><meta property="article:author" content="removeif"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png# https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zronghui.github.io/"},"headline":"zronghui","image":["https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png#https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg# https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@latest/img/avatar.jpg"],"datePublished":"2020-03-07T01:23:57.000Z","dateModified":"2020-09-08T15:47:13.000Z","author":{"@type":"Person","name":"removeif"},"description":"[TOC]"}</script><link rel="alternative" href="/atom.xml" title="zronghui的博客" type="application/atom+xml"><link rel="icon" href="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@latest/img/wico.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="/js/globalUtils.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://www.wntool.com/logo/image.php?output=png?fsize=35&amp;font=Snow.ttf&amp;text=zronghui&amp;mirror=No&amp;color=9933FF&amp;vcolor=3333FF&amp;bgcolor=FFFFFF&amp;alpha=yes&amp;output=png&amp;spacing=5&amp;shadow=no&amp;transparent=yes&amp;icon=no&amp;iconic=&amp;top_spacing=5&amp;left_spacing=6&amp;icon_size=48" alt="zronghui的博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/media">影音</a><a class="navbar-item" href="/album">相册</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zronghui"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-03-07T01:23:57.000Z">2020-03-07</time><a class="commentCountImg" href="/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%AE%AD/django.html#comment-container"><span class="display-none-class">930c0b482b40c6739b3a4a33bbf3aa7c</span><img class="not-gallery-item" src="/img/chat.svg"> <span class="commentCount" id="930c0b482b40c6739b3a4a33bbf3aa7c"> 99+</span>    </a><span class="level-item"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/">研究生课程</a><span> / </span><a class="link-muted" href="/categories/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%AE%AD/">信息系统实训</a></span><span class="level-item">30 minutes 读完 (大约 4516 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">django</h1><div class="content"><p>[TOC]</p>
<a id="more"></a>

<h2 id="1-hello-world"><a href="#1-hello-world" class="headerlink" title="1. hello world"></a>1. hello world</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pip install django</span><br><span class="line"></span><br><span class="line">django-admin.py startproject helloDjango</span><br><span class="line">cd helloDjango</span><br><span class="line">python manage.py startapp article</span><br><span class="line"><span class="meta">#</span><span class="bash"> python manage.py runserver</span></span><br><span class="line">python manage.py runserver 0.0.0.0:80 &amp;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 最后面的”&amp;”，这符号表示在后台运行该进程。这里的IP地址如果用公网IP</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 会运行不了，而用0.0.0.0则外网和127.0.0.1都能够访问。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> python manage.py migrate</span></span><br></pre></td></tr></table></figure>

<p>helloDjango/settings.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DEBUG = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Application definition</span></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">'article'</span>,  <span class="comment">#这里填写的是app的名称</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">settings.py</span><br><span class="line"></span><br><span class="line"><span class="comment">## 其它配置代码...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把英文改为中文</span></span><br><span class="line">LANGUAGE_CODE = <span class="string">'zh-hans'</span></span><br><span class="line"><span class="comment"># 把国际时区改为中国时区（东八区）</span></span><br><span class="line">TIME_ZONE = <span class="string">'Asia/Shanghai'</span></span><br></pre></td></tr></table></figure>

<p>helloDjango/urls.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> article.views <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">'hello/'</span>, hello),</span><br><span class="line">    path(<span class="string">'hello/&lt;int:num&gt;'</span>, hello_num),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>article/views.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse, Http404</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"hello world"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_num</span><span class="params">(request, num)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        num = int(num)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">f"hello world <span class="subst">&#123;num&#125;</span>"</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> Http404()</span><br></pre></td></tr></table></figure>



<h2 id="2-1-模板"><a href="#2-1-模板" class="headerlink" title="2.1 模板"></a>2.1 模板</h2><p>helloDjango/settings.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">TEMPLATE_DIRS = [os.path.join(os.path.dirname(__file__), <span class="string">'templates'</span>)]</span><br></pre></td></tr></table></figure>

<p>helloDjango/urls.py</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(&#39;template&#39;, template),</span><br></pre></td></tr></table></figure>

<p>Article/views.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">template</span><span class="params">(request)</span>:</span></span><br><span class="line">    context = &#123;<span class="string">'name'</span>: <span class="string">'tim'</span>,</span><br><span class="line">               <span class="string">'itemList'</span>: [<span class="string">'item1'</span>, <span class="string">'item2'</span>, <span class="string">'item3'</span>]</span><br><span class="line">               &#125;</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">'1.html'</span>, context=context)</span><br></pre></td></tr></table></figure>

<p>Article/templates/1.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span> hello django <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span> hello django <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello &#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    &#123;% for item in itemList %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% if status %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>I like Python!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% else %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>I like Django!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% ifequal a b %&#125;</span><br><span class="line">&#123;% endifequal %&#125;</span><br><span class="line"></span><br><span class="line">&#123;# 过滤器 #&#125;</span><br><span class="line">&#123;&#123; name | lower &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="2-2-模板继承"><a href="#2-2-模板继承" class="headerlink" title="2.2 模板继承"></a>2.2 模板继承</h2><p>2.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>2<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% block blockName %&#125;</span><br><span class="line">  无用的文字</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> 2.html out of block <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends '2.html' %&#125;</span><br><span class="line">&#123;% block blockName %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> 3.html in block <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">并不会显示</span><br></pre></td></tr></table></figure>

<p>省略 views.py 中的函数和 urls.py 中的 URL 映射说明代码</p>
<p>3.html 的显示结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3.html in block</span><br><span class="line">2.html out of block</span><br></pre></td></tr></table></figure>

<p>因此，2.html 中 block 内的内容不会显示，还有 3.html 中 block 外的内容也不会显示</p>
<h2 id="2-3-模板使用中的注意事项"><a href="#2-3-模板使用中的注意事项" class="headerlink" title="2.3 模板使用中的注意事项"></a>2.3 模板使用中的注意事项</h2><p><a href="https://code.ziqiangxuetang.com/django/django-template2.html">Django 模板进阶 - Django 教程 - 自强学堂</a></p>
<p>==, !=, &gt;=, &lt;=, &gt;, &lt; 这些比较都可以在模板中使用，比较符号前后必须有至少一个空格！</p>
<p>and, or, not, in, not in 也可以在模板中使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if isLastPage %&#125;</span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"turn_page disable"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span></span><br><span class="line">&#123;% else %&#125;</span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"turn_page"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"># 一般来说不用加引号，它会自动转成字符串，但是在字符串中有空格的情况下，需要加上引号</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123;hit.book_url&#125;&#125;"</span></span></span><br><span class="line"><span class="tag"># 怎么不自动加引号？</span></span><br><span class="line"><span class="tag">&#123;&#123;<span class="attr">hit.book_name</span>|<span class="attr">safe</span>&#125;&#125;</span></span><br><span class="line"><span class="tag">   </span></span><br><span class="line"><span class="tag">我们还可以通过&#123;%<span class="attr">autoescape</span> <span class="attr">off</span>%&#125;的方式关闭整段代码的自动转义，比如下面这样：</span></span><br><span class="line"><span class="tag">&#123;% <span class="attr">autoescape</span> <span class="attr">off</span> %&#125;</span></span><br><span class="line"><span class="tag"><span class="attr">Hello</span> &#123;&#123; <span class="attr">name</span> &#125;&#125;</span></span><br><span class="line"><span class="tag">&#123;% <span class="attr">endautoescape</span> %&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>获取当前用户：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; request.user &#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>获取当前网址：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; request.path &#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>获取当前 GET 参数：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; request.GET.urlencode &#125;&#125;</span><br></pre></td></tr></table></figure>



<p><a href="https://www.cnblogs.com/king-home/p/11004487.html">Django——模板层 - King’home - 博客园</a></p>
<p><img src="https://i.loli.net/2020/04/09/MFcSNw4mIZzqODC.png" alt="MFcSNw4mIZzqODC"></p>
<p>Chrome 自带 截图无法截取全部，更多见博客</p>
<h2 id="3-django-admin-管理后台"><a href="#3-django-admin-管理后台" class="headerlink" title="3.django admin 管理后台"></a>3.django admin 管理后台</h2><p>python manage.py createsuperuser 输入 user password 即可创建超级用户</p>
<h2 id="4-models"><a href="#4-models" class="headerlink" title="4.models"></a>4.models</h2><h3 id="Django-Model"><a href="#Django-Model" class="headerlink" title="Django Model"></a>Django Model</h3><ul>
<li>每一个<code>Django Model</code>都继承自<code>django.db.models.Model</code></li>
<li>在<code>Model</code>当中每一个属性<code>attribute</code>都代表一个database field</li>
<li>通过<code>Django Model API</code>可以执行数据库的增删改查, 而不需要写一些数据库的查询语句</li>
</ul>
<h3 id="设置数据库"><a href="#设置数据库" class="headerlink" title="设置数据库"></a>设置数据库</h3><p>Django项目建成后, 默认设置了使用SQLite数据库, 在my_blog/my_blog/setting.py中可以查看和修改数据库设置:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DATABASES &#x3D; &#123;</span><br><span class="line">    &#39;default&#39;: &#123;</span><br><span class="line">        &#39;ENGINE&#39;: &#39;django.db.backends.sqlite3&#39;,</span><br><span class="line">        &#39;NAME&#39;: os.path.join(BASE_DIR, &#39;db.sqlite3&#39;),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还可以设置其他数据库, 如<code>MySQL, PostgreSQL</code>, 现在为了简单, 使用默认数据库设置</p>
<h3 id="创建models"><a href="#创建models" class="headerlink" title="创建models"></a>创建models</h3><p>在my_blog/article/models.py下编写如下程序:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span><span class="params">(models.Model)</span> :</span></span><br><span class="line">    title = models.CharField(max_length = <span class="number">100</span>)  <span class="comment">#博客题目</span></span><br><span class="line">    category = models.CharField(max_length = <span class="number">50</span>, blank = <span class="literal">True</span>)  <span class="comment">#博客标签</span></span><br><span class="line">    date_time = models.DateTimeField(auto_now_add = <span class="literal">True</span>)  <span class="comment">#博客日期</span></span><br><span class="line">    content = models.TextField(blank = <span class="literal">True</span>, null = <span class="literal">True</span>)  <span class="comment">#博客文章正文</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span> :</span></span><br><span class="line">        <span class="keyword">return</span> self.title</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span>  <span class="comment">#按时间下降排序</span></span><br><span class="line">        ordering = [<span class="string">'-date_time'</span>]</span><br></pre></td></tr></table></figure>

<p>其中<code>__unicode__(self)</code> 函数Article对象要怎么表示自己, 一般系统默认使用`` 来表示对象, 通过这个函数可以告诉系统使用title字段来表示这个对象</p>
<ul>
<li><code>CharField</code> 用于存储字符串, max_length设置最大长度</li>
<li><code>TextField</code> 用于存储大量文本</li>
<li><code>DateTimeField</code> 用于存储时间, auto_now_add设置True表示自动设置对象增加时间</li>
</ul>
<h3 id="同步数据库"><a href="#同步数据库" class="headerlink" title="同步数据库"></a>同步数据库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate #命令行运行该命令</span><br></pre></td></tr></table></figure>

<p>因为我们已经执行过该命令会出现如下提示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Operations to perform:</span><br><span class="line">  Apply all migrations: admin, contenttypes, sessions, auth</span><br><span class="line">Running migrations:</span><br><span class="line">  No migrations to apply.</span><br><span class="line">  Your models have changes that are not yet reflected in a migration, and so won&#39;t be applied.</span><br><span class="line">  Run &#39;manage.py makemigrations&#39; to make new migrations, and then re-run &#39;manage.py migrate&#39; to apply them.</span><br></pre></td></tr></table></figure>

<p>那么现在需要执行下面的命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python manage.py makemigrations</span></span><br><span class="line"><span class="meta">#</span><span class="bash">得到如下提示</span></span><br><span class="line">Migrations for 'article':</span><br><span class="line">  0001_initial.py:</span><br><span class="line">    - Create model Article</span><br></pre></td></tr></table></figure>

<p>现在重新运行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python manage.py migrate</span></span><br><span class="line"><span class="meta">#</span><span class="bash">出现如下提示表示操作成功</span></span><br><span class="line">Operations to perform:</span><br><span class="line">  Apply all migrations: auth, sessions, admin, article, contenttypes</span><br><span class="line">Running migrations:</span><br><span class="line">  Applying article.0001_initial... OK</span><br></pre></td></tr></table></figure>

<blockquote>
<p>migrate命令按照app顺序建立或者更新数据库, 将<code>models.py</code>与数据库同步</p>
</blockquote>
<p>现在我们进入Django中的交互式shell来进行数据库的增删改查等操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python manage.py shell</span></span><br><span class="line">Python 3.4.2 (v3.4.2:ab2c023a9432, Oct  5 2014, 20:42:22)</span><br><span class="line">[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin</span><br><span class="line">Type "help", "copyright", "credits" or "license" for more information.</span><br><span class="line">(InteractiveConsole)</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里进入Django的shell和python内置的shell是非常类似的</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> article.models <span class="keyword">import</span> Article</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment">#create数据库增加操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Article.objects.create(title = <span class="string">'Hello World'</span>, category = <span class="string">'Python'</span>, content = <span class="string">'我们来做一个简单的数据库增加操作'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Article.objects.create(title = <span class="string">'Django Blog学习'</span>, category = <span class="string">'Python'</span>, content = <span class="string">'Django简单博客教程'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment">#all和get的数据库查看操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Article.objects.all()  <span class="comment">#查看全部对象, 返回一个列表, 无对象返回空list</span></span><br><span class="line">[, ]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Article.objects.get(id = <span class="number">1</span>)  <span class="comment">#返回符合条件的对象</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment">#update数据库修改操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first = Article.objects.get(id = <span class="number">1</span>)  <span class="comment">#获取id = 1的对象</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first.title</span><br><span class="line"><span class="string">'Hello World'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first.date_time</span><br><span class="line">datetime.datetime(<span class="number">2014</span>, <span class="number">12</span>, <span class="number">26</span>, <span class="number">13</span>, <span class="number">56</span>, <span class="number">48</span>, <span class="number">727425</span>, tzinfo=)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first.content</span><br><span class="line"><span class="string">'我们来做一个简单的数据库增加操作'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first.category</span><br><span class="line"><span class="string">'Python'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first.content = <span class="string">'Hello World, How are you'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first.content  <span class="comment">#再次查看是否修改成功, 修改操作就是点语法</span></span><br><span class="line"><span class="string">'Hello World, How are you'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment">#delete数据库删除操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first.delete()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Article.objects.all()  <span class="comment">#此时可以看到只有一个对象了, 另一个对象已经被成功删除</span></span><br><span class="line">[]</span><br><span class="line"></span><br><span class="line">Blog.objects.all()  <span class="comment"># 选择全部对象</span></span><br><span class="line">Blog.objects.filter(caption=<span class="string">'blogname'</span>)  <span class="comment"># 使用 filter() 按博客题目过滤</span></span><br><span class="line">Blog.objects.filter(caption=<span class="string">'blogname'</span>, id=<span class="string">"1"</span>) <span class="comment"># 也可以多个条件</span></span><br><span class="line"><span class="comment">#上面是精确匹配 也可以包含性查询</span></span><br><span class="line">Blog.objects.filter(caption__contains=<span class="string">'blogname'</span>)</span><br><span class="line"></span><br><span class="line">Blog.objects.get(caption=<span class="string">'blogname'</span>) <span class="comment"># 获取单个对象 如果查询没有返回结果也会抛出异常</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#数据排序</span></span><br><span class="line">Blog.objects.order_by(<span class="string">"caption"</span>)</span><br><span class="line">Blog.objects.order_by(<span class="string">"-caption"</span>)  <span class="comment"># 倒序</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果需要以多个字段为标准进行排序（第二个字段会在第一个字段的值相同的情况下被使用到），使用多个参数就可以了</span></span><br><span class="line">Blog.objects.order_by(<span class="string">"caption"</span>, <span class="string">"id"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#连锁查询</span></span><br><span class="line">Blog.objects.filter(caption__contains=<span class="string">'blogname'</span>).order_by(<span class="string">"-id"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#限制返回的数据</span></span><br><span class="line">Blog.objects.filter(caption__contains=<span class="string">'blogname'</span>)[<span class="number">0</span>]</span><br><span class="line">Blog.objects.filter(caption__contains=<span class="string">'blogname'</span>)[<span class="number">0</span>:<span class="number">3</span>]  <span class="comment"># 可以进行类似于列表的操作</span></span><br></pre></td></tr></table></figure>

<h2 id="5-测试"><a href="#5-测试" class="headerlink" title="5.测试"></a>5.测试</h2><p>article/tests.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.test <span class="keyword">import</span> TestCase</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your tests here.</span></span><br><span class="line"><span class="comment"># 类名无所谓</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ATestClass</span><span class="params">(TestCase)</span>:</span></span><br><span class="line">    <span class="comment"># 测试方法以 test 开头</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_aTestMethod</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.assertEquals([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py test article</span><br></pre></td></tr></table></figure>

<h2 id="6-Django-部署"><a href="#6-Django-部署" class="headerlink" title="6.Django 部署"></a>6.Django 部署</h2><p>整个部署的链路是 Nginx -&gt; uWSGI -&gt; Python Web程序，通常还会提到supervisord工具。</p>
<p>supervisor 是一个进程管理工具。任何人都不能保证程序不异常退出，不别被人误杀，所以一个典型的工程做法就是使用supervisor看守着你的进程，一旦异常退出它会立马进程重新启动起来。</p>
<h1 id="阿里云-centos-部署-Django"><a href="#阿里云-centos-部署-Django" class="headerlink" title="阿里云 centos 部署 Django"></a>阿里云 centos 部署 Django</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">yum install nginx</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装 python3.8 见 _posts/阿里云/centos.md</span></span><br><span class="line">pip3 install django</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 升级 sqlite3</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> wget http://www.sqlite.org/2019/sqlite-autoconf-3280000.tar.gz</span></span><br><span class="line">rsync -azvhP sqlite-autoconf-3280000.tar.gz root@47.93.53.47:/root/</span><br><span class="line">tar -zxvf sqlite-autoconf-3280000.tar.gz;cd sqlite-autoconf-3280000;</span><br><span class="line">./configure;make &amp;&amp; sudo make install</span><br><span class="line"><span class="meta">#</span><span class="bash"> 替换默认 sqlite</span></span><br><span class="line">sudo mv -v /usr/bin/sqlite3 /usr/bin/sqlite3.7.17</span><br><span class="line">sudo cp -v sqlite3 /usr/bin</span><br><span class="line">echo 'export LD_LIBRARY_PATH="/usr/local/lib"'&gt;&gt;~/.zshrc</span><br><span class="line">sqlite3 --version</span><br><span class="line">source ~/.zshrc</span><br><span class="line"></span><br><span class="line">git clone git@github.com:zronghui/helloDjango.git</span><br><span class="line">python3 manage.py migrate</span><br><span class="line">python3 manage.py runserver 0.0.0.0:8000</span><br></pre></td></tr></table></figure>



<h2 id="7-static"><a href="#7-static" class="headerlink" title="7.static"></a>7.static</h2><p><a href="https://github.com/zronghui/helloDjango/commit/fc19af71caf28b5d0130e621bd5766c42ee3c047?diff=unified">static test · zronghui/helloDjango@fc19af7</a></p>
<p>article/templates/staticTest.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load static %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&#123;% static "</span><span class="attr">template.jpg</span>" %&#125;" <span class="attr">alt</span>=<span class="string">"My image"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>helloDjango/settings.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STATICFILES_DIRS = [os.path.join(BASE_DIR, <span class="string">"static"</span>)]</span><br></pre></td></tr></table></figure>



<h2 id="8-去除模板中的硬编码-URL"><a href="#8-去除模板中的硬编码-URL" class="headerlink" title="8.去除模板中的硬编码 URL"></a>8.去除模板中的硬编码 URL</h2><p><a href="https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial03/#removing-hardcoded-urls-in-templates">编写你的第一个 Django 应用，第 3 部分 | Django 文档 | Django</a></p>
<h2 id="9-自定义Error页面"><a href="#9-自定义Error页面" class="headerlink" title="9.自定义Error页面"></a>9.自定义Error页面</h2><h3 id="debug-False引发的问题"><a href="#debug-False引发的问题" class="headerlink" title="debug=False引发的问题"></a>debug=False引发的问题</h3><p>debug=False 后，Django 不再接管静态文件, 运行时添加 –insecure 参数（临时解决方案）</p>
<p><a href="https://stackoverrun.com/cn/q/1444834">为什么DEBUG =假的设置让我的Django的静态文件访问失败？</a><br><a href="https://stackoverflow.com/questions/5836674/why-does-debug-false-setting-make-my-django-static-files-access-fail/49889262#49889262">Why does DEBUG=False setting make my django Static Files Access fail? - Stack Overflow</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py runserver --insecure</span><br></pre></td></tr></table></figure>



<p><a href="https://zhuanlan.zhihu.com/p/31433527">django系列六：自定义Error页面 - 知乎</a></p>
<p><a href="https://github.com/No-Github/404-I-remember">No-Github/404-I-remember: 收集各种网站的404页面</a></p>
<p><a href="https://freefrontend.com/500-error-page-html-templates/">500 Error Page HTML Templates</a><br><a href="https://freefrontend.com/html-css-404-page-templates/">39 HTML 404 Page Templates</a><br><a href="https://freefrontend.com/html-funny-404-pages/">25 HTML Funny 404 Pages</a></p>
<h3 id="404"><a href="#404" class="headerlink" title="404"></a>404</h3><p>采用<a href="https://xz.aliyun.com/404">404 - 先知社区</a>页面源代码</p>
<p>代码：</p>
<p><a href="https://github.com/zronghui/helloDjango/commit/cb21c95ff8c38385318b094e4a8f0c49228ef455">404 · zronghui/helloDjango@cb21c95</a></p>
<p>article/templates/error_404.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">utf-8</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>页面找不到了(´･ω･`)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://xz.aliyun.com/static/css/IE.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>4<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>页面找不到了(´･ω･`)<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align: center"</span>&gt;</span></span><br><span class="line">          您可以 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:history.go(-1);"</span>&gt;</span>返回上一页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          或者 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>网站首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>article/views.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">error_404</span><span class="params">(request, exception)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">'error_404.html'</span>)</span><br></pre></td></tr></table></figure>

<p>helloDjango/settings.py </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DEBUG = <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>helloDjango/urls.py </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">handler404 = error_404</span><br></pre></td></tr></table></figure>

<h3 id="500"><a href="#500" class="headerlink" title="500"></a>500</h3><p>article/templates/error_404.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">utf-8/</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>500<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">        html &#123;</span><br><span class="line">            box-sizing: border-box;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        *,</span><br><span class="line"><span class="css">        *<span class="selector-pseudo">::before</span>,</span></span><br><span class="line"><span class="css">        *<span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line">            box-sizing: inherit;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        body * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        body &#123;</span><br><span class="line">            font: normal 100%/1.15 "Merriweather", serif;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#7ed0f2</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.wrapper</span> &#123;</span></span><br><span class="line">            position: relative;</span><br><span class="line">            max-width: 1298px;</span><br><span class="line">            height: auto;</span><br><span class="line">            margin: 2em auto 0 auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="comment">/* https://www.flaticon.com/authors/vectors-market */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* https://www.flaticon.com/authors/icomoon */</span></span></span><br><span class="line"><span class="css">        <span class="selector-class">.box</span> &#123;</span></span><br><span class="line">            max-width: 70%;</span><br><span class="line">            min-height: auto;</span><br><span class="line">            margin: 0 auto;</span><br><span class="line">            padding: 1em 1em;</span><br><span class="line">            text-align: center;</span><br><span class="line">            background: url("https://www.dropbox.com/s/xq0841cp3icnuqd/flame.png?raw=1") no-repeat top 10em center/128px 128px,</span><br><span class="line">            transparent url("https://www.dropbox.com/s/w7qqrcvhlx3pwnf/desktop-pc.png?raw=1") no-repeat top 13em center/128px 128px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-tag">h1</span>, <span class="selector-tag">p</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:last-of-type)</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">text-shadow</span>: 0 0 6<span class="selector-tag">px</span> <span class="selector-id">#216f79</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        h1 &#123;</span><br><span class="line">            margin: 0 0 1rem 0;</span><br><span class="line">            font-size: 8em;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p &#123;</span><br><span class="line"><span class="css">            <span class="selector-tag">margin-bottom</span>: 0<span class="selector-class">.5em</span>;</span></span><br><span class="line">            font-size: 3em;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span><span class="selector-pseudo">:first-of-type</span> &#123;</span></span><br><span class="line">            margin-top: 4em;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p &gt; a &#123;</span><br><span class="line"><span class="css">            <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">dashed</span> <span class="selector-id">#216f79</span>;</span></span><br><span class="line">            font-style: italic;</span><br><span class="line">            text-decoration: none;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#216f79</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span> &gt; <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">text-shadow</span>: 0 0 6<span class="selector-tag">px</span> <span class="selector-id">#216f79</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p img &#123;</span><br><span class="line">            vertical-align: bottom;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>500<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Sorry, it's me, not you.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="symbol">&amp;#58;</span><span class="symbol">&amp;#40;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>Let me try again!<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>article/views.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">error_500</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">'error_500.html'</span>)</span><br></pre></td></tr></table></figure>

<p>helloDjango/settings.py </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DEBUG = <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>helloDjango/urls.py </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">handler500 = error_500</span><br></pre></td></tr></table></figure>

<h2 id="10-登录"><a href="#10-登录" class="headerlink" title="10. 登录"></a>10. 登录</h2><p><a href="https://blog.51cto.com/alsww/1732435">django实现用户登陆访问限制@login_required-苦咖啡’s运维之路-51CTO博客</a></p>
<h3 id="创建users"><a href="#创建users" class="headerlink" title="创建users"></a>创建users</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python manage.py shell </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User</span><br><span class="line">user = User.objects.create_user(<span class="string">'tempUser'</span>, <span class="string">'user@email.com'</span>, <span class="string">'password'</span>)</span><br></pre></td></tr></table></figure>

<p>以失败告终</p>
<h2 id="11-分页"><a href="#11-分页" class="headerlink" title="11.分页"></a>11.分页</h2><p><a href="https://wiki.jikexueyuan.com/project/django-set-up-blog/rss-paging.html">RSS和分页 - Django 搭建简易博客教程 - 极客学院Wiki</a></p>
<p>主要参考：</p>
<p><a href="https://docs.djangoproject.com/zh-hans/3.0/topics/pagination/">分页 | Django 文档 | Django</a></p>
<p>代码详见：</p>
<p><a href="https://github.com/zronghui/helloDjango/commit/a9eac8311beb2810b519ff7be88b201b0bed9b65">pagination · zronghui/helloDjango@a9eac83</a></p>
<p>article/templates/list.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>paginator test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% for contact in page_obj %&#125;</span><br><span class="line"></span><br><span class="line">    &#123;# Each "contact" is a Contact model object. #&#125;</span><br><span class="line">    &#123;&#123; contact &#125;&#125;</span><br><span class="line">    ...</span><br><span class="line">&#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pagination"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"step-links"</span>&gt;</span></span><br><span class="line">        &#123;% if page_obj.has_previous %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?page=1"</span>&gt;</span><span class="symbol">&amp;laquo;</span> first<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?page=&#123;&#123; page_obj.previous_page_number &#125;&#125;"</span>&gt;</span>previous<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"current"</span>&gt;</span></span><br><span class="line">            Page &#123;&#123; page_obj.number &#125;&#125; of &#123;&#123; page_obj.paginator.num_pages &#125;&#125;.</span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        &#123;% if page_obj.has_next %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?page=&#123;&#123; page_obj.next_page_number &#125;&#125;"</span>&gt;</span>next<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?page=&#123;&#123; page_obj.paginator.num_pages &#125;&#125;"</span>&gt;</span>last <span class="symbol">&amp;raquo;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>article/views.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.core.paginator <span class="keyword">import</span> Paginator</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">listing</span><span class="params">(request)</span>:</span></span><br><span class="line">    contact_list = list(range(<span class="number">100</span>))</span><br><span class="line">    paginator = Paginator(contact_list, <span class="number">2</span>)  <span class="comment"># Show 25 contacts per page.</span></span><br><span class="line">    page_number = request.GET.get(<span class="string">'page'</span>)</span><br><span class="line">    page_obj = paginator.get_page(page_number)</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">'list.html'</span>, context=&#123;<span class="string">'page_obj'</span>: page_obj&#125;)</span><br></pre></td></tr></table></figure>

<p>helloDjango/urls.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">'list'</span>, listing)</span><br></pre></td></tr></table></figure>

<h2 id="12-日志"><a href="#12-日志" class="headerlink" title="12.日志"></a>12.日志</h2><p>参考：<a href="https://www.kawabangga.com/posts/1878">Django的日志配置 | 卡瓦邦噶！</a></p>
<h3 id="理解Logger"><a href="#理解Logger" class="headerlink" title="理解Logger"></a>理解Logger</h3><p>首先要理解logging的工作，这里面主要有四个东西：格式器formatter，过滤器filter，处理器handler，日志实例logger。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">                         formatter</span><br><span class="line">logger ----&gt; handler ----------------&gt;  files, emails</span><br><span class="line">                         filter</span><br></pre></td></tr></table></figure>

<h3 id="配置方式"><a href="#配置方式" class="headerlink" title="配置方式"></a>配置方式</h3><p>Python中可以使用多种格式配置logging，比如.conf， .ini等。</p>
<p>在Django中，我们是把有关logging的配置写到settings里面。相应的配置及解释如下（仅供参考）。</p>
<p><strong>注意</strong>：</p>
<p>发送邮件没有生效</p>
<p>真正生效的 logging 级别配置是最后的 loggers</p>
<p>settings.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 管理员邮箱</span></span><br><span class="line">ADMINS = (</span><br><span class="line">    (<span class="string">'zronghui'</span>, <span class="string">'*****@qq.com'</span>),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 非空链接，却发生404错误，发送通知MANAGERS</span></span><br><span class="line">SEND_BROKEN_LINK_EMAILS = <span class="literal">True</span></span><br><span class="line">MANAGERS = ADMINS</span><br><span class="line"></span><br><span class="line"><span class="comment"># Email设置</span></span><br><span class="line">EMAIL_BACKEND = <span class="string">'django.core.mail.backends.smtp.EmailBackend'</span></span><br><span class="line">EMAIL_HOST = <span class="string">'smtp.163.com'</span>  <span class="comment"># QQ邮箱SMTP服务器(邮箱需要开通SMTP服务)</span></span><br><span class="line">EMAIL_PORT = <span class="number">25</span>  <span class="comment"># QQ邮箱SMTP服务端口</span></span><br><span class="line">EMAIL_HOST_USER = <span class="string">'*****@qq.com'</span>  <span class="comment"># 我的邮箱帐号</span></span><br><span class="line">EMAIL_HOST_PASSWORD = <span class="string">'*****'</span>  <span class="comment"># 授权码</span></span><br><span class="line">EMAIL_SUBJECT_PREFIX = <span class="string">'website'</span>  <span class="comment"># 为邮件标题的前缀,默认是'[django]'</span></span><br><span class="line">EMAIL_USE_TLS = <span class="literal">True</span>  <span class="comment"># 开启安全链接</span></span><br><span class="line">DEFAULT_FROM_EMAIL = SERVER_EMAIL = EMAIL_HOST_USER  <span class="comment"># 设置发件人</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># logging日志配置</span></span><br><span class="line">LOGGING = &#123;</span><br><span class="line">    <span class="string">'version'</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">'disable_existing_loggers'</span>: <span class="literal">True</span>,</span><br><span class="line">    <span class="string">'formatters'</span>: &#123;  <span class="comment"># 日志格式</span></span><br><span class="line">        <span class="string">'standard'</span>: &#123;</span><br><span class="line">            <span class="string">'format'</span>: <span class="string">'%(asctime)s [%(threadName)s:%(thread)d] [%(name)s:%(lineno)d] [%(module)s:%(funcName)s] [%(levelname)s]- %(message)s'</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'filters'</span>: &#123;  <span class="comment"># 过滤器</span></span><br><span class="line">        <span class="string">'require_debug_false'</span>: &#123;</span><br><span class="line">            <span class="string">'()'</span>: <span class="string">'django.utils.log.RequireDebugFalse'</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'handlers'</span>: &#123;  <span class="comment"># 处理器</span></span><br><span class="line">        <span class="string">'null'</span>: &#123;</span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'DEBUG'</span>,</span><br><span class="line">            <span class="string">'class'</span>: <span class="string">'logging.NullHandler'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">'mail_admins'</span>: &#123;  <span class="comment"># 发送邮件通知管理员</span></span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'ERROR'</span>,</span><br><span class="line">            <span class="string">'class'</span>: <span class="string">'django.utils.log.AdminEmailHandler'</span>,</span><br><span class="line">            <span class="comment"># 'filters': ['require_debug_false'],  # 仅当 DEBUG = False 时才发送邮件</span></span><br><span class="line">            <span class="string">'include_html'</span>: <span class="literal">True</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">'debug'</span>: &#123;  <span class="comment"># 记录到日志文件(需要创建对应的目录，否则会出错)</span></span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'INFO'</span>,</span><br><span class="line">            <span class="string">'class'</span>: <span class="string">'logging.handlers.RotatingFileHandler'</span>,</span><br><span class="line">            <span class="string">'filename'</span>: os.path.join(BASE_DIR, <span class="string">"log"</span>, <span class="string">'debug.log'</span>),  <span class="comment"># 日志输出文件</span></span><br><span class="line">            <span class="string">'maxBytes'</span>: <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">5</span>,  <span class="comment"># 文件大小</span></span><br><span class="line">            <span class="string">'backupCount'</span>: <span class="number">5</span>,  <span class="comment"># 备份份数</span></span><br><span class="line">            <span class="string">'formatter'</span>: <span class="string">'standard'</span>,  <span class="comment"># 使用哪种formatters日志格式</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">'console'</span>: &#123;  <span class="comment"># 输出到控制台</span></span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'INFO'</span>,</span><br><span class="line">            <span class="string">'class'</span>: <span class="string">'logging.StreamHandler'</span>,</span><br><span class="line">            <span class="string">'formatter'</span>: <span class="string">'standard'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment"># 真正生效的 logging 级别配置</span></span><br><span class="line">    <span class="string">'loggers'</span>: &#123;  <span class="comment"># logging管理器</span></span><br><span class="line">        <span class="string">'django'</span>: &#123;</span><br><span class="line">            <span class="string">'handlers'</span>: [<span class="string">'debug'</span>, <span class="string">'console'</span>],</span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'INFO'</span>,</span><br><span class="line">            <span class="comment"># 'level': 'DEBUG',</span></span><br><span class="line">            <span class="string">'propagate'</span>: <span class="literal">False</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">'django.request'</span>: &#123;</span><br><span class="line">            <span class="string">'handlers'</span>: [<span class="string">'mail_admins'</span>],</span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'ERROR'</span>,</span><br><span class="line">            <span class="string">'propagate'</span>: <span class="literal">True</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment"># 对于不在 ALLOWED_HOSTS 中的请求不发送报错邮件</span></span><br><span class="line">        <span class="string">'django.security.DisallowedHost'</span>: &#123;</span><br><span class="line">            <span class="string">'handlers'</span>: [<span class="string">'null'</span>],</span><br><span class="line">            <span class="string">'propagate'</span>: <span class="literal">False</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Manage.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">logDir = os.path.join(os.path.dirname(__file__), <span class="string">'log'</span>)</span><br><span class="line">logFile = os.path.join(logDir, <span class="string">'debug.log'</span>)</span><br><span class="line">print(logFile)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(logDir):</span><br><span class="line">  os.mkdir(logDir)</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(logFile):</span><br><span class="line">    os.system(<span class="string">f'touch <span class="subst">&#123;logFile&#125;</span>'</span>)</span><br></pre></td></tr></table></figure>



<h2 id="13-swagger"><a href="#13-swagger" class="headerlink" title="13. swagger"></a>13. swagger</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install djangorestframework</span><br><span class="line">pip install django-rest-swagger</span><br></pre></td></tr></table></figure>

<p>django-rest-swagger 根据 djangorestframework 自动生成 swagger 文档</p>
<p>官方教程翻译：<a href="https://q1mi.github.io/Django-REST-framework-documentation/">主页 - Django REST framework中文站点</a></p>
<p>手把手教程：<a href="https://github.com/m-haziq/django-rest-swagger-docs">m-haziq/django-rest-swagger-docs: Beginners approach to Django Rest Swagger</a></p>
<p>根据 swagger 配置文件生成 Django 项目（或模块？）：<a href="https://github.com/praekelt/swagger-django-generator">praekelt/swagger-django-generator: Convert Swagger specifications into Django or aiohttp code</a></p>
<p>根据 swagger 配置文件生成相应 swagger URL</p>
<p><a href="https://aiohttp-swagger3.readthedocs.io/en/latest/">aiohttp-swagger3 — aiohttp-swagger3 0.4.2 documentation</a><br><a href="https://github.com/hh-h/aiohttp-swagger3">hh-h/aiohttp-swagger3: Library for swagger documentation browsing and validating aiohttp requests using swagger specification 3.0</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install elasticsearch-dsl==5.4.0</span><br></pre></td></tr></table></figure>



<h2 id="tricks"><a href="#tricks" class="headerlink" title="tricks"></a>tricks</h2><p>xadmin 是对 Django admin 的美化，但是只能用于 Django 1.* ，<a href="https://github.com/douglasmiranda/django-admin-bootstrap">django-admin-bootstrap</a>Support Django <strong>1.11</strong> and <strong>2.1</strong></p>
<p>收集静态文件 python manage.py collectstatic 这一句话就会把以前放在app下static中的静态文件全部拷贝到 settings.py 中设置的 STATIC_ROOT 文件夹中</p>
<p>path(‘polls/‘, include(‘polls.urls’)) </p>
<p>函数 include() 允许引用其它 URLconfs。每当 Django 遇到 include() 时，它会截断与此项匹配的 URL 的部分，并将剩余的字符串发送到 URLconf 以供进一步处理。因为投票应用有它自己的 URLconf( polls/urls.py )，他们能够被放在 “/polls/“ ， “/fun_polls/“ ，”/content/polls/“，或者其他任何路径下，这个应用都能够正常工作。</p>
<p>python manage.py shell 命令再次打开 Python 交互式命令行</p>
<p><strong>重定向类、模板类：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># project/urls.py</span></span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> django.views.generic.base <span class="keyword">import</span> RedirectView</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> application.views <span class="keyword">import</span> NewView</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubclassedRedirectView</span><span class="params">(RedirectView)</span>:</span></span><br><span class="line">    pattern_name = <span class="string">'new-view'</span></span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">"old-path/"</span>, SubclassedRedirectView.as_view()),</span><br><span class="line">    path(<span class="string">"old-path/"</span>, RedirectView.as_view(pattern_name=<span class="string">'new-view'</span>)),</span><br><span class="line">    path(<span class="string">"new-path/"</span>, NewView.as_view(), name=<span class="string">'new-view'</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># application/views.py</span></span><br><span class="line"><span class="keyword">from</span> django.views.generic.base <span class="keyword">import</span> TemplateView</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeView</span><span class="params">(TemplateView)</span>:</span></span><br><span class="line">    template_name = <span class="string">'home.html'</span></span><br></pre></td></tr></table></figure>

<p><strong>装饰器</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> require_POST</span><br><span class="line"></span><br><span class="line"><span class="comment"># 有些视图可以处理多个方法，比如:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multi_method_view</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'GET'</span>:</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'Method was a GET.'</span>)</span><br><span class="line">    <span class="keyword">elif</span> request.method == <span class="string">'POST'</span>:</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">'Method was a POST.'</span>)</span><br><span class="line"><span class="comment"># 假设您只想响应一个 POST</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">guard_clause_view</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">'POST'</span>:</span><br><span class="line">        <span class="keyword">raise</span> Http404()</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'Method was a POST.'</span>)</span><br><span class="line"><span class="comment"># 我们可以使用 require post decorator，并让 Django 为我们检查该方法。</span></span><br><span class="line"><span class="keyword">from</span> django.view.decorators.http <span class="keyword">import</span> require_POST</span><br><span class="line"></span><br><span class="line"><span class="meta">@require_POST</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">the_view</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'Method was a POST.'</span>)</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="meta">@login_required # 需要登录</span></span><br><span class="line"><span class="meta">@user_passes_test(lambda user: user.is_staff) # 登录的是员工</span></span><br></pre></td></tr></table></figure>

<p><strong>mixin</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># application/views.py</span></span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.mixins <span class="keyword">import</span> LoginRequiredMixin, UserPassesTestMixin</span><br><span class="line"><span class="keyword">from</span> django.views.generic.base <span class="keyword">import</span> TemplateView</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeView</span><span class="params">(LoginRequiredMixin, TemplateView)</span>:</span></span><br><span class="line">    template_name = <span class="string">'home.html'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaffProtectedView</span><span class="params">(UserPassesTestMixin, TemplateView)</span>:</span></span><br><span class="line">    template_name = <span class="string">'staff_eyes_only.html'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_func</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.request.user.is_staff</span><br><span class="line"><span class="comment"># 可以看到，LoginRequiredMixin UserPassesTestMixin 功能与@login_required @user_passes_test差不多，只是使用方式的区别</span></span><br></pre></td></tr></table></figure>



<h3 id="Django-升级到-3"><a href="#Django-升级到-3" class="headerlink" title="Django 升级到 3"></a>Django 升级到 3</h3><p>views.py 中</p>
<p>render_to_response 改为 render</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, render_to_response</span><br><span class="line">+<span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line">-<span class="keyword">return</span> render_to_response(<span class="string">'diary.html'</span>, &#123;<span class="string">'request_get_from'</span>: <span class="number">1</span>, <span class="string">'date'</span>: date&#125;)</span><br><span class="line">+<span class="keyword">return</span> render(request, <span class="string">'diary.html'</span>, &#123;<span class="string">'request_get_from'</span>: <span class="number">1</span>, <span class="string">'date'</span>: date&#125;)</span><br></pre></td></tr></table></figure>

<p>settings.py 中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-MIDDLEWARE_CLASSES = (...)</span><br><span class="line">+MIDDLEWARE = (...)</span><br><span class="line"></span><br><span class="line"> TEMPLATES = [</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="string">'BACKEND'</span>: <span class="string">'django.template.backends.django.DjangoTemplates'</span>,</span><br><span class="line">-        <span class="string">'DIRS'</span>: [<span class="string">'D:/gtdweb/diary/templates/'</span>],</span><br><span class="line">+        <span class="string">'DIRS'</span>: [os.path.join(BASE_DIR, <span class="string">'diary/templates'</span>)],</span><br><span class="line">       ...</span><br><span class="line">-STATICFILES_DIRS = (<span class="string">'D:/gtdweb/static/'</span>,)</span><br><span class="line">+STATICFILES_DIRS = [os.path.join(BASE_DIR, <span class="string">"static"</span>)]</span><br></pre></td></tr></table></figure>

<p>urls.py 中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-<span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> include, url</span><br><span class="line">+<span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</span><br><span class="line">+<span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">-    url(<span class="string">r'^admin/'</span>, include(admin.site.urls)),</span><br><span class="line">+    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br></pre></td></tr></table></figure>



<h1 id="useful-package"><a href="#useful-package" class="headerlink" title="useful package"></a>useful package</h1><h2 id="awesome"><a href="#awesome" class="headerlink" title="awesome"></a>awesome</h2><p><a href="https://github.com/wsvincent/awesome-django">wsvincent/awesome-django: A curated list of awesome things related to Django</a><br><a href="https://github.com/haiiiiiyun/awesome-django-cn">haiiiiiyun/awesome-django-cn: Django 优秀资源大全。</a></p>
<h3 id="Django-调用流程图"><a href="#Django-调用流程图" class="headerlink" title="Django 调用流程图"></a>Django 调用流程图</h3><p><a href="https://github.com/meshy/django-schema-graph">meshy/django-schema-graph: An interactive graph of your Django model structure</a></p>
<h3 id="Django-快速生成项目代码"><a href="#Django-快速生成项目代码" class="headerlink" title="Django 快速生成项目代码"></a>Django 快速生成项目代码</h3><p><a href="https://github.com/pydanny/cookiecutter-django">pydanny/cookiecutter-django: Cookiecutter Django is a framework for jumpstarting production-ready Django projects quickly.</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cookiecutter https://github.com/pydanny/cookiecutter-django</span><br><span class="line">自动克隆仓库，并让用户回答问题</span><br><span class="line">use_whitenoise [n]: n</span><br><span class="line">use_celery [n]: y</span><br><span class="line">use_mailhog [n]: n</span><br><span class="line">use_sentry [n]: y</span><br><span class="line">use_pycharm [n]: y</span><br><span class="line">windows [n]: n</span><br><span class="line">use_docker [n]: n</span><br><span class="line">use_heroku [n]: y</span><br><span class="line">use_compressor [n]: y</span><br><span class="line">Select postgresql_version:</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<h3 id="django-模块化搜索"><a href="#django-模块化搜索" class="headerlink" title="django 模块化搜索"></a>django 模块化搜索</h3><p>solr es 等多个搜索引擎接口统一</p>
<p><a href="https://github.com/django-haystack/django-haystack">django-haystack/django-haystack: Modular search for Django</a><br><a href="https://django-haystack.readthedocs.io/en/master/tutorial.html">Getting Started with Haystack — Haystack 2.5.0 documentation</a></p>
<p><a href="https://s0django-haystack0readthedocs0io.icopy.site/en/v2.6.0/tutorial.html">Getting Started with Haystack — Haystack 2.5.0 documentation 中文文档教程</a><br>[django-haystack全文检索详细教程_Python_越努力越幸运—liupu-CSDN博客<br><a href="https://www.jianshu.com/p/fa1d29456d80">Haystack入门教程 - 简书</a><br><a href="https://www.cnblogs.com/gcgc/p/10762416.html">Django：haystack全文检索详细教程 - 秋寻草 - 博客园</a><br><a href="https://zhuanlan.zhihu.com/p/36963164">卧槽，简单的Django ElasticSearch Haystack我竟然调了那么久。。。 - 知乎</a><br><a href="https://www.zmrenwu.com/courses/django-blog-tutorial/materials/27/">Django Haystack 全文检索与关键词高亮_Django博客教程_追梦人物的博客</a></p>
<h3 id="django-extensions"><a href="#django-extensions" class="headerlink" title="django-extensions"></a>django-extensions</h3><p><a href="https://github.com/django-extensions/django-extensions">django-extensions/django-extensions: This is a repository for collecting global custom management extensions for the Django Framework.</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install django-extensions werkzeug</span><br><span class="line"><span class="meta">#</span><span class="bash"> 在 INSTALLED_APPS 里添加 django_extensions</span></span><br></pre></td></tr></table></figure>

<p>用途1：</p>
<p>方便查看报错信息，界面美化，网页还带个 terminal，方便查错</p>
<p>python manage.py runserver_plus 9000</p>
<img src="https://i.loli.net/2020/05/16/IemLlUCExTY9bqd.jpg" style="zoom:50%;" />

<p>用途 2：</p>
<p>查看所有 urls</p>
<p>python manage.py show_urls</p>
<img src="https://i.loli.net/2020/05/16/FuBiWXZdHqMUVmK.jpg" alt="youtu.be-1F6G3ONhr4k" style="zoom:50%;" />

<p>shell_plus</p>
<p>./manage.py shell_plus –ipython</p>
<p>运行Django shell的同时自动加载所有app的models,并选择使用Python shell的版本</p>
<h3 id="Django-Packages"><a href="#Django-Packages" class="headerlink" title="Django Packages"></a>Django Packages</h3><p><a href="https://djangopackages.org/categories/apps/?sort=usage_count&dir=desc">Django Packages : Welcome</a><br><a href="https://github.com/ubernostrum/django-registration">ubernostrum/django-registration: An extensible user-registration app for Django.</a><br><a href="https://github.com/pydanny/dj-pagination">pydanny/dj-pagination: Django + Pagination Made Easy</a></p>
<h3 id="Django-Chart-js"><a href="#Django-Chart-js" class="headerlink" title="Django-Chart.js"></a>Django-Chart.js</h3><p>可用来学习</p>
<p><a href="https://www.youtube.com/watch?v=B4Vmm3yZPgc">(1) Django + Chart.js // Learn to intergrate Chart.js with Django - YouTube</a></p>
<p>项目代码：</p>
<p><a href="https://github.com/codingforentrepreneurs/Django-Chart.js">codingforentrepreneurs/Django-Chart.js: Learn how to integrate Chart.js with Django</a></p>
<p>integrate: Chart.js (<a href="http://www.chartjs.org/">http://www.chartjs.org/</a>) with <em>Django</em> (<a href="http://django.project.com/">http://<em>django</em>.project.com/</a>) and the <em>Django</em> Rest Framework (<a href="http://www.django-rest-framework.org/">http://www.<em>django</em>-rest-framework.org/</a>)</p>
<p>更简单的做法：</p>
<p><a href="https://github.com/peopledoc/django-chartjs">peopledoc/django-chartjs: Django Class Based Views to generate Ajax charts js parameters.</a></p>
<p>更全面：</p>
<p><a href="https://github.com/IridiumIO/pyChart.js">IridiumIO/pyChart.js: Objective Chart.js implementation for Python and Django</a></p>
<ol>
<li>Chart Element in HTML and JS</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"myChart"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> data = &#123;&#123; chartJSON | safe &#125;&#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">"myChart"</span>).getContext(<span class="string">'2d'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> myChart = <span class="keyword">new</span> Chart(ctx, data);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Python Code</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Create Chart</span><br><span class="line"><span class="keyword">from</span> pychartjs <span class="keyword">import</span> BaseChart, ChartType, Color                                     </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyBarGraph</span><span class="params">(BaseChart)</span>:</span></span><br><span class="line">  type = ChartType.Bar</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">data</span>:</span></span><br><span class="line">      label = <span class="string">"Numbers"</span></span><br><span class="line">      data = [<span class="number">12</span>, <span class="number">19</span>, <span class="number">3</span>, <span class="number">17</span>, <span class="number">10</span>]</span><br><span class="line">      backgroundColor = Color.Green</span><br></pre></td></tr></table></figure>
<p>Update data label and use it in a Django View</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">homepage</span><span class="params">(request)</span>:</span></span><br><span class="line">  NewChart = MyBarGraph()</span><br><span class="line">  NewChart.data.label = <span class="string">"My Favourite Numbers"</span>      <span class="comment"># can change data after creation</span></span><br><span class="line"></span><br><span class="line">  ChartJSON = NewChart.get()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> render(request=request,</span><br><span class="line">                template_name=<span class="string">'main/home.html'</span>,</span><br><span class="line">                context=&#123;<span class="string">"chartJSON"</span>: ChartJSON&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="https://docs.djangoproject.com/zh-hans/3.0/topics/">Django 官方中文文档</a></p>
<p><a href="https://wiki.jikexueyuan.com/project/django-set-up-blog/">Django搭建简易博客教程_Django开发中文手册[PDF]下载-极客学院Wiki</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/74726087">Django路由控制URL详解 - 知乎</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/47962034">Django基础(19): Django Admin管理后台详解(上) - 知乎</a></p>
<p><a href="https://www.runoob.com/django/django-admin-manage-tool.html">Django Admin 管理工具 | 菜鸟教程</a></p>
<p><a href="https://wizardforcel.gitbooks.io/django-chinese-docs-18/content/">Introduction · Django 中文文档 1.8</a></p>
<p><a href="https://www.alibabacloud.com/zh/getting-started/projects/how-to-deploy-django-application-on-alibaba-cloud">如何在阿里云上部署 Django 应用程序 - 阿里云新手学堂</a><br><a href="https://yq.aliyun.com/articles/590911">阿里云centos部署Django+nginx+uwsgi服务，安装mezzanine为例-云栖社区-阿里云</a></p>
<p><a href="https://mudew.com/20190417/django-22-does-not-match-the-sqlite3-version-above/">Django2.2以上针对Sqlite3版本不匹配 | 沐雨露の山头 | 懒若新生</a></p>
<p><a href="https://blog.csdn.net/will5451/article/details/53861092">Django运行访问项目出现的问题:DisallowedHost at / Invalid HTTP_HOST header_Python_will5451的博客-CSDN博客</a></p>
<p><a href="https://code.ziqiangxuetang.com/django/django-deploy-base.html">Django 部署基础 - Django 教程 - 自强学堂</a><br><a href="https://code.ziqiangxuetang.com/django/django-nginx-deploy.html">Django 部署(Nginx) - Django 教程 - 自强学堂</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/31208172">django系列四：静态文件 - 知乎</a></p>
<p><a href="http://fingerchou.com/2017/08/12/elasticsearch-dsl-with-python-usage-1/">Python Elasticsearch DSL 使用笔记(一) | Finger’s Blog</a></p>
</div><ul class="post-copyright"><li><strong>本文标题：</strong><a href="https://zronghui.github.io/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%AE%AD/django.html">django</a></li><li><strong>本文作者：</strong><a href="https://zronghui.github.io">zronghui</a></li><li><strong>本文链接：</strong><a href="https://zronghui.github.io/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%AE%AD/django.html">https://zronghui.github.io/研究生课程/信息系统实训/django.html</a></li><li><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li></ul><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/Leetcode%20weekly%20contest/biweekly-contest-22.html" target="_blank">biweekly-contest-22</a><br></span><span>  2.<a class="is-size-6" href="/leetcode/%E7%A8%8B%E5%BA%8F%E5%91%98%E9%9D%A2%E8%AF%95%E9%87%91%E5%85%B8/%E9%9D%A2%E8%AF%95%E9%A2%98-01-07-%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5.html" target="_blank">面试题 01.07 旋转矩阵</a><br></span><span>  3.<a class="is-size-6" href="/Chrome/chrome-%E6%8F%92%E4%BB%B6.html" target="_blank">chrome 插件</a><br></span><span>  4.<a class="is-size-6" href="/Leetcode%20weekly%20contest/biweekly-contest-23.html" target="_blank">biweekly-contest-23</a><br></span><span>  5.<a class="is-size-6" href="/Leetcode%20weekly%20contest/weekly-contest-180.html" target="_blank">weekly-contest-180</a><br></span></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://i.loli.net/2020/03/05/MeFCknt1wipKvRA.png" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://i.loli.net/2020/03/05/MVJrxG3gO6qHSiz.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/Linux/%E8%BF%9B%E7%A8%8B%E5%88%86%E6%9E%90-%E7%AB%AF%E5%8F%A3%E5%88%86%E6%9E%90.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">进程分析 端口分析</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AF%BE%E7%A8%8B/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%AE%AD/elastic-search.html"><span class="level-item">elastic search</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: '930c0b482b40c6739b3a4a33bbf3aa7c',
            repo: 'blog_comment',
            owner: 'zronghui',
            clientID: 'f1c7f9da01111d2e7163',
            clientSecret: '3aaaf709bd8edda1f4c57484cceba5fad5218978',
            admin: ["zronghui"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: 'last',
            
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget toc-scroll" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex" id="toc-item-1-hello-world" href="#1-hello-world"><span>1. hello world</span></a></li><li><a class="is-flex" id="toc-item-2-1-模板" href="#2-1-模板"><span>2.1 模板</span></a></li><li><a class="is-flex" id="toc-item-2-2-模板继承" href="#2-2-模板继承"><span>2.2 模板继承</span></a></li><li><a class="is-flex" id="toc-item-2-3-模板使用中的注意事项" href="#2-3-模板使用中的注意事项"><span>2.3 模板使用中的注意事项</span></a></li><li><a class="is-flex" id="toc-item-3-django-admin-管理后台" href="#3-django-admin-管理后台"><span>3.django admin 管理后台</span></a></li><li><a class="is-flex" id="toc-item-4-models" href="#4-models"><span>4.models</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-Django-Model" href="#Django-Model"><span>Django Model</span></a></li><li><a class="is-flex" id="toc-item-设置数据库" href="#设置数据库"><span>设置数据库</span></a></li><li><a class="is-flex" id="toc-item-创建models" href="#创建models"><span>创建models</span></a></li><li><a class="is-flex" id="toc-item-同步数据库" href="#同步数据库"><span>同步数据库</span></a></li></ul></li><li><a class="is-flex" id="toc-item-5-测试" href="#5-测试"><span>5.测试</span></a></li><li><a class="is-flex" id="toc-item-6-Django-部署" href="#6-Django-部署"><span>6.Django 部署</span></a></li></ul><li><a class="is-flex" id="toc-item-阿里云-centos-部署-Django" href="#阿里云-centos-部署-Django"><span>阿里云 centos 部署 Django</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-7-static" href="#7-static"><span>7.static</span></a></li><li><a class="is-flex" id="toc-item-8-去除模板中的硬编码-URL" href="#8-去除模板中的硬编码-URL"><span>8.去除模板中的硬编码 URL</span></a></li><li><a class="is-flex" id="toc-item-9-自定义Error页面" href="#9-自定义Error页面"><span>9.自定义Error页面</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-debug-False引发的问题" href="#debug-False引发的问题"><span>debug&amp;#x3D;False引发的问题</span></a></li><li><a class="is-flex" id="toc-item-404" href="#404"><span>404</span></a></li><li><a class="is-flex" id="toc-item-500" href="#500"><span>500</span></a></li></ul></li><li><a class="is-flex" id="toc-item-10-登录" href="#10-登录"><span>10. 登录</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-创建users" href="#创建users"><span>创建users</span></a></li></ul></li><li><a class="is-flex" id="toc-item-11-分页" href="#11-分页"><span>11.分页</span></a></li><li><a class="is-flex" id="toc-item-12-日志" href="#12-日志"><span>12.日志</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-理解Logger" href="#理解Logger"><span>理解Logger</span></a></li><li><a class="is-flex" id="toc-item-配置方式" href="#配置方式"><span>配置方式</span></a></li></ul></li><li><a class="is-flex" id="toc-item-13-swagger" href="#13-swagger"><span>13. swagger</span></a></li><li><a class="is-flex" id="toc-item-tricks" href="#tricks"><span>tricks</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-Django-升级到-3" href="#Django-升级到-3"><span>Django 升级到 3</span></a></li></ul></li></ul></li><li><a class="is-flex" id="toc-item-useful-package" href="#useful-package"><span>useful package</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-awesome" href="#awesome"><span>awesome</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-Django-调用流程图" href="#Django-调用流程图"><span>Django 调用流程图</span></a></li><li><a class="is-flex" id="toc-item-Django-快速生成项目代码" href="#Django-快速生成项目代码"><span>Django 快速生成项目代码</span></a></li><li><a class="is-flex" id="toc-item-django-模块化搜索" href="#django-模块化搜索"><span>django 模块化搜索</span></a></li><li><a class="is-flex" id="toc-item-django-extensions" href="#django-extensions"><span>django-extensions</span></a></li><li><a class="is-flex" id="toc-item-Django-Packages" href="#Django-Packages"><span>Django Packages</span></a></li><li><a class="is-flex" id="toc-item-Django-Chart-js" href="#Django-Chart-js"><span>Django-Chart.js</span></a></li></ul></li><li><a class="is-flex" id="toc-item-参考链接" href="#参考链接"><span>参考链接</span></a></li></ul></li></ul></div></div><script type="text/javascript" async>
        $(document).ready(function () { //参考自 https://github.com/ppoffice/hexo-theme-icarus/pull/616/files
            var observerTopMargin;
            var scrollObserver;
            var headerElems = $(".headerlink");
            var activeTocItem;
        
            function initIntersectionObserver(docHeight) {
                observerTopMargin = docHeight;
                scrollObserver = new IntersectionObserver(scrollCallBack,
                    {
                        root: null,  // viewpoint
                        rootMargin: docHeight + "px 0px -80% 0px"  // cover top 30% of viewport to the top of document
                    })
            }
        
            function scrollCallBack(entries, observer) {
                if ($(window).scrollTop() > observerTopMargin * 0.7) { 
                    // User somehow scroll to 70% of observerTopMargin (which is inited as 200% document height)
                    // Observer top margin need to extend to cover all the space to the top of the document
                    initIntersectionObserver(observerTopMargin * 2)
                    observer.disconnect();
                    return;
                }
                let toActive;
                if (entries[0].intersectionRatio == 1) {  // enter viewed area
                    let entry = entries.reduce((u, v) => (u.target.toc_id > v.target.toc_id ? u : v));  // get the lowest item
                    toActive = $("#toc-item-" + $(entry.target).attr("href").substr(1));
                } else {
                    let entry = entries.reduce((u, v) => (u.target.toc_id < v.target.toc_id ? u : v));  // get the highest item
                    let idx = Math.max(entry.target.toc_id - 1, 0);
                    toActive = $("#toc-item-" + $(headerElems[idx]).attr("href").substr(1));
                }
                if (activeTocItem) activeTocItem.removeClass("is-current");
                activeTocItem = toActive
                activeTocItem.addClass("is-current");
            }
        
            initIntersectionObserver($(document).height() * 2);
            headerElems.each(function (index, obj) {
                obj.toc_id = index;
                scrollObserver.observe(obj);
            })
        });</script></div><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg" alt="zronghui"></figure><p class="title is-size-4 is-block line-height-inherit">zronghui</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">582</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">49</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">48</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/zronghui" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zronghui"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-01T14:15:50.000Z">2020-12-01</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AMySQL8-cookbook%E3%80%8B-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《MySQL8 cookbook》 阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:16:28.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8ARedis-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E3%80%8B.html">《Redis 设计与实现》</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:16:13.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AMongoDB-%E5%AE%9E%E6%88%98%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《MongoDB 实战》阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:15:56.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8ALinux-Shell-%E8%84%9A%E6%9C%AC%E6%94%BB%E7%95%A5%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《Linux Shell 脚本攻略》阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T07:52:12.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4-MYSQL45%E8%AE%B2-%E7%AC%94%E8%AE%B0.html">极客时间-MYSQL45讲-笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Chrome/"><span class="level-start"><span class="level-item">Chrome</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Leetcode-weekly-contest/"><span class="level-start"><span class="level-item">Leetcode weekly contest</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Mac/"><span class="level-start"><span class="level-item">Mac</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/blockchain/"><span class="level-start"><span class="level-item">blockchain</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/docker-k8s/"><span class="level-start"><span class="level-item">docker k8s</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/frontEnd/"><span class="level-start"><span class="level-item">frontEnd</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/go/"><span class="level-start"><span class="level-item">go</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">40</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/java/Collections/"><span class="level-start"><span class="level-item">Collections</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li></ul></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Array/"><span class="tag">Array</span><span class="tag is-grey-lightest">35</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tree/"><span class="tag">Tree</span><span class="tag is-grey-lightest">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dynamic-Programming/"><span class="tag">Dynamic Programming</span><span class="tag is-grey-lightest">21</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Binary-Search/"><span class="tag">Binary Search</span><span class="tag is-grey-lightest">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Depth-first-Search/"><span class="tag">Depth-first Search</span><span class="tag is-grey-lightest">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hash-Table/"><span class="tag">Hash Table</span><span class="tag is-grey-lightest">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag is-grey-lightest">16</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Math/"><span class="tag">Math</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Two-Pointers/"><span class="tag">Two Pointers</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/String/"><span class="tag">String</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linked-List/"><span class="tag">Linked List</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Stack/"><span class="tag">Stack</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Backtracking/"><span class="tag">Backtracking</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Breadth-first-Search/"><span class="tag">Breadth-first Search</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Heap/"><span class="tag">Heap</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tricks/"><span class="tag">tricks</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design/"><span class="tag">Design</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bit-Manipulation/"><span class="tag">Bit Manipulation</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sort/"><span class="tag">Sort</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Divide-and-Conquer/"><span class="tag">Divide and Conquer</span><span class="tag is-grey-lightest">5</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=zronghui&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="zronghui" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div><p class="help">输入邮箱开始订阅，更博后邮件通知！</p></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://www.wntool.com/logo/image.php?output=png?fsize=35&amp;font=Snow.ttf&amp;text=zronghui&amp;mirror=No&amp;color=9933FF&amp;vcolor=3333FF&amp;bgcolor=FFFFFF&amp;alpha=yes&amp;output=png&amp;spacing=5&amp;shadow=no&amp;transparent=yes&amp;icon=no&amp;iconic=&amp;top_spacing=5&amp;left_spacing=6&amp;icon_size=48" alt="zronghui的博客" height="28"></a><p class="size-small"><span>&copy; 2020 zronghui</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>,Modify by <a href="https://github.com/removeif" target="_blank">removeif</a> <br>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br>    方便于网友与自己学习交流，如有侵权，请<a href="https://zronghui.github.io/message/" target="_blank">留言</a>，立即处理]<br><script type="text/javascript" src="/js/statistics.js"></script><span id="statistic-times"></span><br></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zronghui"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-Hans");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://zronghui.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script src="/js/gallery.js" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/comment-issue-data.js" defer></script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: '文章',
                    PAGES: '页面',
                    CATEGORIES: '分类',
                    TAGS: '标签',
                    UNTITLED: '(无标题)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script></body></html>