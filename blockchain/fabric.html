<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>fabric - zronghui的博客</title><meta description="[TOC]"><meta property="og:type" content="blog"><meta property="og:title" content="zronghui"><meta property="og:url" content="https://zronghui.github.io/"><meta property="og:site_name" content="zronghui"><meta property="og:description" content="[TOC]"><meta property="og:image" content="https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png# https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg"><meta property="article:published_time" content="2020-05-21T07:28:00.000Z"><meta property="article:modified_time" content="2020-07-24T14:11:01.000Z"><meta property="article:author" content="removeif"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png# https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zronghui.github.io/"},"headline":"zronghui","image":["https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png#https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg# https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@latest/img/avatar.jpg"],"datePublished":"2020-05-21T07:28:00.000Z","dateModified":"2020-07-24T14:11:01.000Z","author":{"@type":"Person","name":"removeif"},"description":"[TOC]"}</script><link rel="alternative" href="/atom.xml" title="zronghui的博客" type="application/atom+xml"><link rel="icon" href="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@latest/img/wico.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="/js/globalUtils.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://www.wntool.com/logo/image.php?output=png?fsize=35&amp;font=Snow.ttf&amp;text=zronghui&amp;mirror=No&amp;color=9933FF&amp;vcolor=3333FF&amp;bgcolor=FFFFFF&amp;alpha=yes&amp;output=png&amp;spacing=5&amp;shadow=no&amp;transparent=yes&amp;icon=no&amp;iconic=&amp;top_spacing=5&amp;left_spacing=6&amp;icon_size=48" alt="zronghui的博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/media">影音</a><a class="navbar-item" href="/album">相册</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zronghui"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-21T07:28:00.000Z">2020-05-21</time><a class="commentCountImg" href="/blockchain/fabric.html#comment-container"><span class="display-none-class">6b4302eeb01384a544aca6c401081504</span><img class="not-gallery-item" src="/img/chat.svg"> <span class="commentCount" id="6b4302eeb01384a544aca6c401081504"> 99+</span>    </a><span class="level-item"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/blockchain/">blockchain</a></span><span class="level-item">25 minutes 读完 (大约 3804 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">fabric</h1><div class="content"><p>[TOC]</p>
<a id="more"></a>

<p>分类账 – 账本</p>
<h1 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h1><p><strong>channel</strong> : 定义 Fabric 网络功能, 比如块的制作方式和节点可以使用的 Fabric 版本 、 定义了哪些组织是联盟的成员。channel是特定网络成员之间的私有通信层。 只有被邀请到频道的组织才能使用频道，而网络中的其他成员是看不见的。每个channel都有一个独立的区块链分类账。 被邀请“加入”其同行的组织存储通道分类账并验证通道上的交易。</p>
<p><strong>ordering nodes</strong>: 允许 peers 专注于验证事务并将它们提交到分类账中, 从客户端接收经过认可的事务后，它们对事务的顺序达成共识，然后将它们添加到块中</p>
<p><strong>peers</strong>: 验证交易并将交易块添加到区块链分类账时，它们不会决定交易的顺序</p>
<p><strong>smart contract</strong>: 智能合约。包含管理区块链分类账上资产的业务逻辑。 由网络成员运行的应用程序可以调用智能合同在分类账上<strong>创建</strong>资产，以及<strong>更改和转移</strong>这些资产。 应用程序还可以<strong>查询</strong>智能合同来<strong>读取</strong>分类账上的数据。</p>
<p><strong>multiple signatures</strong>: 多重签名。为了确保交易有效，使用智能合同创建的交易通常需要由多个组织签署，以便提交给渠道分类账。</p>
<p><strong>chaincode</strong>: 在 fabric 中，是智能合约打的包。链码安装在一个组织的 peer 上，在将链码部署到通道之前，通道的成员需要就链码定义达成一致，以建立链码治理。 当所需的组织数量一致时，链码定义可以提交给通道，并且链码已经可以使用了。然后部署到一个通道，在那里它可以用来认可交易和与区块链分类账互动。 </p>
<h1 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h1><p><a href="https://github.com/hyperledger/fabric-samples">hyperledger/fabric-samples</a></p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p><a href="https://raw.githubusercontent.com/hyperledger/fabric/master/scripts/bootstrap.sh">https://raw.githubusercontent.com/hyperledger/fabric/master/scripts/bootstrap.sh</a></p>
<p><a href="https://github.com/hyperledger/fabric/releases">Releases · hyperledger/fabric</a></p>
<p>此脚本实现以下功能：</p>
<p>克隆 hyperledger/fabric-samples 仓库<br>检出适当的版本标签<br>将指定版本的Hyperledger Fabric平台特定二进制文件和配置文件安装到fabric-samples下的/bin和/config目录中<br>下载指定版本的Hyperledger Fabric docker镜像</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mcd fabric</span><br><span class="line"><span class="meta">#</span><span class="bash"> 将 bootstrap.sh 弄到这个目录里</span></span><br><span class="line">chmod u+x bootstrap.sh</span><br><span class="line">./bootstrap.sh</span><br><span class="line"></span><br><span class="line">export PATH=/root/fabric/fabric-samples/bin:$PATH</span><br></pre></td></tr></table></figure>

<h3 id="Bring-up-the-test-network"><a href="#Bring-up-the-test-network" class="headerlink" title="Bring up the test network"></a>Bring up the test network</h3><p><a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/test_network.html">Using the Fabric test network — hyperledger-fabricdocs master 文档</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">cd fabric-samples/test-network</span><br><span class="line">./network.sh -h</span><br><span class="line">./network.sh down # 从以前的运行中删除任何容器或工件</span><br><span class="line">./network.sh up # 启动网络</span><br><span class="line">docker ps -a # 应该可以看到由 network.sh 脚本创建的三个节点</span><br><span class="line">./network.sh createChannel</span><br><span class="line"><span class="meta">#</span><span class="bash"> createChannel 主要的操作：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1. Creating channel mychannel</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. Join Org1 peers to the channel...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. Join Org2 peers to the channel...</span></span><br><span class="line"></span><br><span class="line">export GOPROXY=https://goproxy.io</span><br><span class="line">export GO111MODULE=on</span><br><span class="line"></span><br><span class="line">./network.sh deployCC # 在通道上启动链码</span><br><span class="line"><span class="meta">#</span><span class="bash"> deployCC 主要的操作：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1. 安装 golang 的依赖</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. Chaincode is packaged on peer0.org1</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. Chaincode is installed on peer0.org1</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 4. Chaincode is installed on peer0.org2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 5. Query installed successful on peer0.org1 on channel</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 6. Chaincode definition approved on peer0.org1 on channel <span class="string">'mychannel'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 7. Checking the commit readiness of the chaincode definition on peer0.org1 on channel <span class="string">'mychannel'</span>...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 8. Checking the commit readiness of the chaincode definition on peer0.org2 on channel <span class="string">'mychannel'</span>...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 9. Chaincode definition approved on peer0.org2 on channel <span class="string">'mychannel'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 10. Chaincode definition committed on channel <span class="string">'mychannel'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 11. Querying chaincode definition on peer0.org1 on channel <span class="string">'mychannel'</span>...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 12. Querying chaincode definition on peer0.org2 on channel <span class="string">'mychannel'</span>...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 13. Invoke transaction successful on peer0.org1 peer0.org2 on channel <span class="string">'mychannel'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 14. Querying on peer0.org1 on channel <span class="string">'mychannel'</span>...</span></span><br></pre></td></tr></table></figure>



<p><img src="https://i.imgur.com/pQZr7wJ.png" alt="image-20200528105117015"></p>
<p><img src="https://i.imgur.com/Lse0e7F.png" alt="image-20200528183519799"></p>
<h4 id="查询、更改"><a href="#查询、更改" class="headerlink" title="查询、更改"></a>查询、更改</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$&#123;PWD&#125;/../bin:$&#123;PWD&#125;:$PATH</span><br><span class="line">export FABRIC_CFG_PATH=$PWD/../config/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Environment variables <span class="keyword">for</span> Org1</span></span><br><span class="line">export CORE_PEER_TLS_ENABLED=true</span><br><span class="line">export CORE_PEER_LOCALMSPID="Org1MSP"</span><br><span class="line">export CORE_PEER_TLS_ROOTCERT_FILE=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt</span><br><span class="line">export CORE_PEER_MSPCONFIGPATH=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp</span><br><span class="line">export CORE_PEER_ADDRESS=localhost:7051</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询</span></span><br><span class="line">peer chaincode query -C mychannel -n fabcar -c '&#123;"Args":["queryAllCars"]&#125;'</span><br><span class="line"><span class="meta">#</span><span class="bash"> 更改</span></span><br><span class="line">peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls true --cafile $&#123;PWD&#125;/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n fabcar --peerAddresses localhost:7051 --tlsRootCertFiles $&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses localhost:9051 --tlsRootCertFiles $&#123;PWD&#125;/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt -c '&#123;"function":"changeCarOwner","Args":["CAR9","Dave"]&#125;'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询运行在 org 2对等节点上的链码</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Environment variables <span class="keyword">for</span> Org2</span></span><br><span class="line">export CORE_PEER_TLS_ENABLED=true</span><br><span class="line">export CORE_PEER_LOCALMSPID="Org2MSP"</span><br><span class="line">export CORE_PEER_TLS_ROOTCERT_FILE=$&#123;PWD&#125;/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt</span><br><span class="line">export CORE_PEER_MSPCONFIGPATH=$&#123;PWD&#125;/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp</span><br><span class="line">export CORE_PEER_ADDRESS=localhost:9051</span><br><span class="line"></span><br><span class="line">peer chaincode query -C mychannel -n fabcar -c '&#123;"Args":["queryAllCars"]&#125;'</span><br><span class="line"></span><br><span class="line">./network.sh down</span><br></pre></td></tr></table></figure>



<p><img src="https://i.imgur.com/KWkBjMD.png" alt="image-20200528204924722"></p>
<h3 id="Fabcar-：用-fabric-的-SDK-调用智能合约"><a href="#Fabcar-：用-fabric-的-SDK-调用智能合约" class="headerlink" title="Fabcar ：用 fabric 的 SDK 调用智能合约"></a>Fabcar ：用 fabric 的 SDK 调用智能合约</h3><p><a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/write_first_app.html">编写你的第一个应用 — hyperledger-fabricdocs master 文档</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cd fabric/fabric-samples/first-network</span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除旧网络</span></span><br><span class="line">./byfn.sh down</span><br><span class="line"><span class="meta">#</span><span class="bash"> docker rm -f $(docker ps -aq) <span class="comment"># 删除所有 images，不可调用</span></span></span><br><span class="line">docker rmi -f $(docker images | grep fabcar | awk '&#123;print $3&#125;')</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动网络</span></span><br><span class="line">cd ../fabcar</span><br><span class="line">./startFabric.sh javascript</span><br><span class="line"><span class="meta">#</span><span class="bash"> 最后出现下面的 doc</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">Follow the instructions for the programming language of your choice:</span><br><span class="line"></span><br><span class="line">JavaScript:</span><br><span class="line"></span><br><span class="line">  Start by changing into the "javascript" directory:</span><br><span class="line">    cd javascript</span><br><span class="line"></span><br><span class="line">  Next, install all required packages:</span><br><span class="line">    npm install</span><br><span class="line"></span><br><span class="line">  Then run the following applications to enroll the admin user, and register a new user</span><br><span class="line">  called appUser which will be used by the other applications to interact with the deployed</span><br><span class="line">  FabCar contract:</span><br><span class="line">    node enrollAdmin</span><br><span class="line">    node registerUser</span><br><span class="line"></span><br><span class="line">  You can run the invoke application as follows. By default, the invoke application will</span><br><span class="line">  create a new car, but you can update the application to submit other transactions:</span><br><span class="line">    node invoke</span><br><span class="line"></span><br><span class="line">  You can run the query application as follows. By default, the query application will</span><br><span class="line">  return all cars, but you can update the application to evaluate other transactions:</span><br><span class="line">    node query</span><br><span class="line"></span><br><span class="line">TypeScript:</span><br><span class="line"></span><br><span class="line">  Start by changing into the "typescript" directory:</span><br><span class="line">    cd typescript</span><br><span class="line"></span><br><span class="line">  Next, install all required packages:</span><br><span class="line">    npm install</span><br><span class="line"></span><br><span class="line">  Next, compile the TypeScript code into JavaScript:</span><br><span class="line">    npm run build</span><br><span class="line"></span><br><span class="line">  Then run the following applications to enroll the admin user, and register a new user</span><br><span class="line">  called appUser which will be used by the other applications to interact with the deployed</span><br><span class="line">  FabCar contract:</span><br><span class="line">    node dist/enrollAdmin</span><br><span class="line">    node dist/registerUser</span><br><span class="line"></span><br><span class="line">  You can run the invoke application as follows. By default, the invoke application will</span><br><span class="line">  create a new car, but you can update the application to submit other transactions:</span><br><span class="line">    node dist/invoke</span><br><span class="line"></span><br><span class="line">  You can run the query application as follows. By default, the query application will</span><br><span class="line">  return all cars, but you can update the application to evaluate other transactions:</span><br><span class="line">    node dist/query</span><br><span class="line"></span><br><span class="line">Java:</span><br><span class="line"></span><br><span class="line">  Start by changing into the "java" directory:</span><br><span class="line">    cd java</span><br><span class="line"></span><br><span class="line">  Then, install dependencies and run the test using:</span><br><span class="line">    mvn test</span><br><span class="line"></span><br><span class="line">  The test will invoke the sample client app which perform the following:</span><br><span class="line">    - Enroll admin and appUser and import them into the wallet (if they don't already exist there)</span><br><span class="line">    - Submit a transaction to create a new car</span><br><span class="line">    - Evaluate a transaction (query) to return details of this car</span><br><span class="line">    - Submit a transaction to change the owner of this car</span><br><span class="line">    - Evaluate a transaction (query) to return the updated details of this car</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装应用程序</span></span><br><span class="line">cd javascript</span><br><span class="line">npm install</span><br><span class="line">ls</span><br><span class="line"><span class="meta">#</span><span class="bash"> 你会看到下边的文件：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> enrollAdmin.js  node_modules       package.json  registerUser.js</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> invoke.js       package-lock.json  query.js      wallet</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 登记管理员用户</span></span><br><span class="line">node enrollAdmin.js</span><br><span class="line"><span class="meta">#</span><span class="bash"> 注册和登记 user1</span></span><br><span class="line">node registerUser.js</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询账本</span></span><br><span class="line">node query.js # 使用 user1 查询账本</span><br><span class="line"><span class="meta">#</span><span class="bash"> query.js 里面有一句是</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> const result = await contract.evaluateTransaction(<span class="string">'queryAllCars'</span>);</span></span><br><span class="line">vim query.js # 把它调成 queryCar</span><br><span class="line"><span class="meta">#</span><span class="bash"> const result = await contract.evaluateTransaction(<span class="string">'queryCar'</span>, <span class="string">'CAR4'</span>);</span></span><br><span class="line">node query.js</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 更新账本</span></span><br><span class="line">node invoke.js</span><br><span class="line"><span class="meta">#</span><span class="bash"> 构建和提交交易到网络的代码段：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> await contract.submitTransaction(<span class="string">'createCar'</span>, <span class="string">'CAR12'</span>, <span class="string">'Honda'</span>, <span class="string">'Accord'</span>, <span class="string">'Black'</span>, <span class="string">'Tom'</span>);</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 注意是 submitTransaction 而不是 evaluateTransaction</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 为了查看这个被写入账本的交易，返回到 query.js 并将参数 CAR4 更改为 CAR12</span></span><br><span class="line">node query.js</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 假设 Tom 很大方，想把他的 Honda Accord 送给一个叫 Dave 的人。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 为了完成这个，返回到 invoke.js 然后利用输入的参数，将智能合约的交易从 createCar 改为 changeCarOwner ：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> await contract.submitTransaction(<span class="string">'changeCarOwner'</span>, <span class="string">'CAR12'</span>, <span class="string">'Dave'</span>);</span></span><br><span class="line">node invoke.js</span><br><span class="line">node query.js</span><br></pre></td></tr></table></figure>



<h3 id="商业票据"><a href="#商业票据" class="headerlink" title="商业票据"></a>商业票据</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 路径定义</span></span><br><span class="line">export FabricSamples=/root/fabric/fabric-samples</span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动网络</span></span><br><span class="line">cd $FabricSamples/basic-network</span><br><span class="line">./start.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看各个 container 的日志</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> <span class="variable">$FabricSamples</span>/commercial-paper/organization/magnetocorp/configuration/cli/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./monitordocker.sh net_basic</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./monitordocker.sh net_basic &lt;port_number&gt; <span class="comment"># 或者指定一个端口</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动一个 MagnetoCorp</span></span><br><span class="line">cd $FabricSamples/commercial-paper/organization/magnetocorp/configuration/cli/</span><br><span class="line">docker-compose -f docker-compose.yml up -d cliMagnetoCorp</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 智能合约</span></span><br><span class="line">cd $FabricSamples/commercial-paper/organization/magnetocorp/contract</span><br><span class="line">docker exec cliMagnetoCorp peer chaincode install -n papercontract -v 0 -p /opt/gopath/src/github.com/contract -l node</span><br><span class="line">docker exec cliMagnetoCorp peer chaincode instantiate -n papercontract -v 0 -l node -c '&#123;"Args":["org.papernet.commercialpaper:instantiate"]&#125;' -C mychannel -P "AND ('Org1MSP.member')"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 应用程序依赖项</span></span><br><span class="line">cd $FabricSamples/commercial-paper/organization/magnetocorp/application/</span><br><span class="line">npm install</span><br><span class="line"><span class="meta">#</span><span class="bash"> 钱包</span></span><br><span class="line">node addToWallet.js</span><br><span class="line"><span class="meta">#</span><span class="bash"> 发行</span></span><br><span class="line">node issue.js</span><br></pre></td></tr></table></figure>



<p>准备工作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ./bootstrap.sh 1.2.0</span><br><span class="line">export PATH=&lt;path to download location&gt;/bin:$PATH</span><br></pre></td></tr></table></figure>



<p>start.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 路径定义</span></span><br><span class="line">export FabricSamples=/root/fabric/fabric-samples</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.1生成组织身份</span></span><br><span class="line">cd $FabricSamples/first-network/</span><br><span class="line">sudo ../bin/cryptogen generate --config=./crypto-config.yaml</span><br><span class="line"><span class="meta">#</span><span class="bash"> 证书和密钥（即MSP材料）将被输出到当前一个名为 crypto-config 的目录中</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.2.2 Orderer服务启动初始区块的创建</span></span><br><span class="line">sudo ../bin/configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block</span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.2.3 生成应用通道交易配置文件</span></span><br><span class="line">export CHANNEL_NAME=mychannel</span><br><span class="line">sudo ../bin/configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID $CHANNEL_NAME</span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.2.4 生成锚节点更新配置文件</span></span><br><span class="line">sudo ../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg Org1MSP</span><br><span class="line">sudo ../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg Org2MSP</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.3 启动网络</span></span><br><span class="line">cd $FabricSamples/first-network</span><br><span class="line">docker-compose -f docker-compose-cli.yaml up -d</span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建通道</span></span><br><span class="line">docker exec -it cli bash</span><br><span class="line"></span><br><span class="line">export CHANNEL_NAME=mychannel</span><br><span class="line">peer channel create -o orderer.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem</span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.4.2 节点怎么加入应用通道</span></span><br><span class="line">peer channel join -b mychannel.block</span><br><span class="line"><span class="meta">#</span><span class="bash"> 更新锚节点</span></span><br><span class="line">peer channel update -o orderer.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/Org1MSPanchors.tx --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem</span><br><span class="line"></span><br><span class="line">export CORE_PEER_LOCALMSPID="Org2MSP"</span><br><span class="line">export CORE_PEER_ADDRESS=peer0.org2.example.com:7051 </span><br><span class="line">export CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp</span><br><span class="line">export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt </span><br><span class="line">peer channel update -o orderer.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/Org1MSPanchors.tx --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem</span><br></pre></td></tr></table></figure>

<p>stop.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 路径定义</span></span><br><span class="line">export FabricSamples=/root/fabric/fabric-samples</span><br><span class="line"><span class="meta">#</span><span class="bash"> 关闭网络</span></span><br><span class="line">cd $FabricSamples/first-network</span><br><span class="line">docker-compose -f docker-compose-cli.yaml down</span><br></pre></td></tr></table></figure>

<h3 id="私有数据"><a href="#私有数据" class="headerlink" title="私有数据"></a>私有数据</h3><p>start.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">export FabricSamples=/root/fabric/fabric-samples</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除之前的环境</span></span><br><span class="line">cd $FabricSamples/test-network</span><br><span class="line">./network.sh down</span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载链码所需的依赖</span></span><br><span class="line">cd $FabricSamples/chaincode/marbles02_private/go</span><br><span class="line">GO111MODULE=on go mod vendor</span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除之前弹珠私有数据链码的 Docker 容器</span></span><br><span class="line">docker rm -f $(docker ps -a | awk '($2 ~ /dev-peer.*.marblesp.*/) &#123;print $1&#125;')</span><br><span class="line">docker rmi -f $(docker images | awk '($1 ~ /dev-peer.*.marblesp.*/) &#123;print $3&#125;')</span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建通道</span></span><br><span class="line">cd $FabricSamples/test-network</span><br><span class="line">./network.sh up createChannel -s couchdb</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装并定义一个带集合的链码</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> peer lifecycle chaincode package/install ...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1. 以 Org1 管理员的身份与测试网络进行交互</span></span><br><span class="line">cd $FabricSamples/test-network</span><br><span class="line">export PATH=$&#123;PWD&#125;/../bin:$&#123;PWD&#125;:$PATH</span><br><span class="line">export FABRIC_CFG_PATH=$PWD/../config/</span><br><span class="line">export CORE_PEER_TLS_ENABLED=true</span><br><span class="line">export CORE_PEER_LOCALMSPID="Org1MSP"</span><br><span class="line">export CORE_PEER_TLS_ROOTCERT_FILE=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt</span><br><span class="line">export CORE_PEER_MSPCONFIGPATH=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp</span><br><span class="line">export CORE_PEER_ADDRESS=localhost:7051</span><br><span class="line"><span class="meta">#</span><span class="bash"> 打包、安装 弹珠私有数据链码</span></span><br><span class="line">peer lifecycle chaincode package marblesp.tar.gz --path ../chaincode/marbles02_private/go/ --lang golang --label marblespv1</span><br><span class="line">peer lifecycle chaincode install marblesp.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 切换到 Org2 管理员</span></span><br><span class="line">export CORE_PEER_LOCALMSPID="Org2MSP"</span><br><span class="line">export CORE_PEER_TLS_ROOTCERT_FILE=$&#123;PWD&#125;/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt</span><br><span class="line">export CORE_PEER_MSPCONFIGPATH=$&#123;PWD&#125;/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp</span><br><span class="line">export CORE_PEER_ADDRESS=localhost:9051</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装链码</span></span><br><span class="line">peer lifecycle chaincode install marblesp.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 每个通道中的成员想要使用链码，都需要为他们的组织审批链码定义</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询节点上已安装链码包的 ID</span></span><br><span class="line">peer lifecycle chaincode queryinstalled</span><br><span class="line"><span class="meta">#</span><span class="bash"> Package ID: marblespv1:f8c8e06bfc27771028c4bbc3564341887881e29b92a844c66c30bac0ff83966e, Label: marblespv1</span></span><br><span class="line">export CC_PACKAGE_ID=marblespv1:f8c8e06bfc27771028c4bbc3564341887881e29b92a844c66c30bac0ff83966e</span><br><span class="line"></span><br><span class="line">export ORDERER_CA=$&#123;PWD&#125;/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem</span><br><span class="line">peer lifecycle chaincode approveformyorg -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --channelID mychannel --name marblesp --version 1.0 --collections-config ../chaincode/marbles02_private/collections_config.json --signature-policy "OR('Org1MSP.member','Org2MSP.member')" --init-required --package-id $CC_PACKAGE_ID --sequence 1 --tls true --cafile $ORDERER_CA</span><br><span class="line"></span><br><span class="line">export CORE_PEER_LOCALMSPID="Org1MSP"</span><br><span class="line">export CORE_PEER_TLS_ROOTCERT_FILE=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt</span><br><span class="line">export CORE_PEER_MSPCONFIGPATH=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp</span><br><span class="line">export CORE_PEER_ADDRESS=localhost:7051</span><br><span class="line">peer lifecycle chaincode approveformyorg -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --channelID mychannel --name marblesp --version 1.0 --collections-config ../chaincode/marbles02_private/collections_config.json --signature-policy "OR('Org1MSP.member','Org2MSP.member')" --init-required --package-id $CC_PACKAGE_ID --sequence 1 --tls true --cafile $ORDERER_CA</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提交链码定义</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 当组织中大部分成员审批通过了链码定义，该组织才可以提交该链码定义到通道上</span></span><br><span class="line">export ORDERER_CA=$&#123;PWD&#125;/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem</span><br><span class="line">export ORG1_CA=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt</span><br><span class="line">export ORG2_CA=$&#123;PWD&#125;/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt</span><br><span class="line">peer lifecycle chaincode commit -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --channelID mychannel --name marblesp --version 1.0 --sequence 1 --collections-config ../chaincode/marbles02_private/collections_config.json --signature-policy "OR('Org1MSP.member','Org2MSP.member')" --init-required --tls true --cafile $ORDERER_CA --peerAddresses localhost:7051 --tlsRootCertFiles $ORG1_CA --peerAddresses localhost:9051 --tlsRootCertFiles $ORG2_CA</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 初始化链码</span></span><br><span class="line">peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --channelID mychannel --name marblesp --isInit --tls true --cafile $ORDERER_CA --peerAddresses localhost:7051 --tlsRootCertFiles $ORG1_CA -c '&#123;"Args":["Init"]&#125;'</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 存储私有数据</span></span><br><span class="line">export CORE_PEER_LOCALMSPID="Org1MSP"</span><br><span class="line">export CORE_PEER_TLS_ROOTCERT_FILE=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt</span><br><span class="line">export CORE_PEER_MSPCONFIGPATH=$&#123;PWD&#125;/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp</span><br><span class="line">export CORE_PEER_ADDRESS=localhost:7051</span><br><span class="line">export MARBLE=$(echo -n "&#123;\"name\":\"marble1\",\"color\":\"blue\",\"size\":35,\"owner\":\"tom\",\"price\":99&#125;" | base64 | tr -d \\n)</span><br><span class="line">peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile $&#123;PWD&#125;/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n marblesp -c '&#123;"Args":["initMarble"]&#125;' --transient "&#123;\"marble\":\"$MARBLE\"&#125;"</span><br></pre></td></tr></table></figure>



<h3 id="在多台主机上搭建-Fabric集群"><a href="#在多台主机上搭建-Fabric集群" class="headerlink" title="在多台主机上搭建 Fabric集群"></a>在多台主机上搭建 Fabric集群</h3><p><a href="https://medium.com/@yshanxiu/30%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E5%9C%A8%E5%A4%9A%E5%8F%B0%E4%B8%BB%E6%9C%BA%E4%B8%8A%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95hyperledger-fabric%E9%9B%86%E7%BE%A4-%E4%B8%8D%E6%98%AF%E9%83%A8%E7%BD%B2-8f9f175a1f21">30分钟快速在多台主机上搭建开发/测试Hyperledger Fabric集群（不适用于正式部署） | by Jasmine Yang | Medium</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b extra_hosts https://github.com/eugeneyl/one-org-kafka.git</span><br></pre></td></tr></table></figure>





<h3 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h3><p>centos aliyun 搭建 Java 环境，再测试代码</p>
<h1 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h1><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h3 id="Hyperledger-Composer-已经过时了"><a href="#Hyperledger-Composer-已经过时了" class="headerlink" title="Hyperledger Composer (已经过时了)"></a><strong>Hyperledger Composer (已经过时了)</strong></h3><p><a href="https://hyperledger.github.io/composer/latest/installing/installing-index"><strong>Installing</strong></a></p>
<p><a href="https://hyperledger.github.io/composer/latest/installing/installing-prereqs">Installing pre-requisites</a></p>
<p>Install nvm and switch node to 8</p>
<p>install docker、 vs code、Hyperledger Composer plugin for vscode</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.0/install.sh | bash</span><br><span class="line"><span class="meta">#</span><span class="bash"> new iterm2 tab</span></span><br><span class="line">nvm —-version</span><br><span class="line"></span><br><span class="line">nvm install v8</span><br><span class="line">nvm use 8</span><br><span class="line">node --version</span><br></pre></td></tr></table></figure>





<p>一个链上不同节点能不能存入不同的数据</p>
<h3 id="docker-swarm-遇到的一些问题"><a href="#docker-swarm-遇到的一些问题" class="headerlink" title="docker swarm 遇到的一些问题"></a>docker swarm 遇到的一些问题</h3><p>主要参考教程<a href="https://my.oschina.net/u/3843525/blog/3146795">超级账本Fabric Raft多机集群部署教程 - 区块链教程的个人空间 - OSCHINA</a></p>
<p>host1 </p>
<p><strong>1.以 manager 加入失败</strong></p>
<p>先以 worker 加入，再 docker node promote <id> 提升为 manager</p>
<p>每个Docker engine实例称为一个Node，既可以是物理机，也可以是虚拟机。分为manager和worker。worker只负责接收并执行任务，manager在此基础上还要接收用户指令，服务调度，服务发现…</p>
<p><strong>2.docker 版本不一致出现问题</strong></p>
<p><strong>3./etc/systemd/sstem/docker.service.d/http-proxy.conf 中设置 noproxy</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment="NO_PROXY=localhost,127.0.0.1,123.56.42.224,47.93.53.47,39.105.73.181"</span><br></pre></td></tr></table></figure>

<p><strong>4.创建 first-network 失败</strong></p>
<p>教程 缺少步骤，去 官网 <a href="https://docs.docker.com/network/network-tutorial-overlay/">Networking with overlay networks | Docker Documentation</a></p>
<p>docker run -dit –name alpine2 –network first-network alpine</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>ImportError: cannot import name ImageNotFound</p>
<p><a href="https://github.com/ansible/ansible/issues/37958">docker_service - Unable to load docker-compose. Try <code>pip install docker-compose</code>. Error: cannot import name ImageNotFound · Issue #37958 · ansible/ansible</a></p>
<p>After  pip uninstall -y docker docker-py &amp;&amp; pip install docker  the above command completes successfully.</p>
<p><img src="https://i.loli.net/2020/06/19/LAyjHtMlI3qhd1o.png" alt="image-20200619125851480"></p>
<p><a href="https://stackoverflow.com/questions/54321201/issue-with-chaincode-instantiate-in-hyperledger-fabric">Issue with chaincode instantiate in hyperledger fabric? - Stack Overflow</a></p>
<p>Please check with this variable CORE_PEER_GOSSIP_USELEADERELECTION=true</p>
</div><ul class="post-copyright"><li><strong>本文标题：</strong><a href="https://zronghui.github.io/blockchain/fabric.html">fabric</a></li><li><strong>本文作者：</strong><a href="https://zronghui.github.io">zronghui</a></li><li><strong>本文链接：</strong><a href="https://zronghui.github.io/blockchain/fabric.html">https://zronghui.github.io/blockchain/fabric.html</a></li><li><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li></ul><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/Leetcode%20weekly%20contest/biweekly-contest-22.html" target="_blank">biweekly-contest-22</a><br></span><span>  2.<a class="is-size-6" href="/leetcode/%E7%A8%8B%E5%BA%8F%E5%91%98%E9%9D%A2%E8%AF%95%E9%87%91%E5%85%B8/%E9%9D%A2%E8%AF%95%E9%A2%98-01-07-%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5.html" target="_blank">面试题 01.07 旋转矩阵</a><br></span><span>  3.<a class="is-size-6" href="/Chrome/chrome-%E6%8F%92%E4%BB%B6.html" target="_blank">chrome 插件</a><br></span><span>  4.<a class="is-size-6" href="/Leetcode%20weekly%20contest/biweekly-contest-23.html" target="_blank">biweekly-contest-23</a><br></span><span>  5.<a class="is-size-6" href="/Leetcode%20weekly%20contest/weekly-contest-180.html" target="_blank">weekly-contest-180</a><br></span></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://i.loli.net/2020/03/05/MeFCknt1wipKvRA.png" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://i.loli.net/2020/03/05/MVJrxG3gO6qHSiz.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/todo/to-read.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">to read</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/other/jiao-%E7%9A%84%E9%82%A3%E7%82%B9%E7%A0%B4%E4%BA%8B.html"><span class="level-item">你了解你的女儿吗</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: '6b4302eeb01384a544aca6c401081504',
            repo: 'blog_comment',
            owner: 'zronghui',
            clientID: 'f1c7f9da01111d2e7163',
            clientSecret: '3aaaf709bd8edda1f4c57484cceba5fad5218978',
            admin: ["zronghui"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: 'last',
            
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget toc-scroll" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex" id="toc-item-学习" href="#学习"><span>学习</span></a></li><li><a class="is-flex" id="toc-item-实践" href="#实践"><span>实践</span></a><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex" id="toc-item-安装" href="#安装"><span>安装</span></a></li><li><a class="is-flex" id="toc-item-查询、更改" href="#查询、更改"><span>查询、更改</span></a></li><li><a class="is-flex" id="toc-item-Fabcar-：用-fabric-的-SDK-调用智能合约" href="#Fabcar-：用-fabric-的-SDK-调用智能合约"><span>Fabcar ：用 fabric 的 SDK 调用智能合约</span></a></li><li><a class="is-flex" id="toc-item-商业票据" href="#商业票据"><span>商业票据</span></a></li><li><a class="is-flex" id="toc-item-私有数据" href="#私有数据"><span>私有数据</span></a></li><li><a class="is-flex" id="toc-item-在多台主机上搭建-Fabric集群" href="#在多台主机上搭建-Fabric集群"><span>在多台主机上搭建 Fabric集群</span></a></li><li><a class="is-flex" id="toc-item-todo" href="#todo"><span>todo</span></a></li></ul></ul></li><li><a class="is-flex" id="toc-item-工具" href="#工具"><span>工具</span></a></li><li><a class="is-flex" id="toc-item-其他" href="#其他"><span>其他</span></a><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex" id="toc-item-Hyperledger-Composer-已经过时了" href="#Hyperledger-Composer-已经过时了"><span>Hyperledger Composer (已经过时了)</span></a></li><li><a class="is-flex" id="toc-item-docker-swarm-遇到的一些问题" href="#docker-swarm-遇到的一些问题"><span>docker swarm 遇到的一些问题</span></a></li></ul><li><a class="is-flex" id="toc-item-问题" href="#问题"><span>问题</span></a></li></ul></li></ul></div></div><script type="text/javascript" async>
        $(document).ready(function () { //参考自 https://github.com/ppoffice/hexo-theme-icarus/pull/616/files
            var observerTopMargin;
            var scrollObserver;
            var headerElems = $(".headerlink");
            var activeTocItem;
        
            function initIntersectionObserver(docHeight) {
                observerTopMargin = docHeight;
                scrollObserver = new IntersectionObserver(scrollCallBack,
                    {
                        root: null,  // viewpoint
                        rootMargin: docHeight + "px 0px -80% 0px"  // cover top 30% of viewport to the top of document
                    })
            }
        
            function scrollCallBack(entries, observer) {
                if ($(window).scrollTop() > observerTopMargin * 0.7) { 
                    // User somehow scroll to 70% of observerTopMargin (which is inited as 200% document height)
                    // Observer top margin need to extend to cover all the space to the top of the document
                    initIntersectionObserver(observerTopMargin * 2)
                    observer.disconnect();
                    return;
                }
                let toActive;
                if (entries[0].intersectionRatio == 1) {  // enter viewed area
                    let entry = entries.reduce((u, v) => (u.target.toc_id > v.target.toc_id ? u : v));  // get the lowest item
                    toActive = $("#toc-item-" + $(entry.target).attr("href").substr(1));
                } else {
                    let entry = entries.reduce((u, v) => (u.target.toc_id < v.target.toc_id ? u : v));  // get the highest item
                    let idx = Math.max(entry.target.toc_id - 1, 0);
                    toActive = $("#toc-item-" + $(headerElems[idx]).attr("href").substr(1));
                }
                if (activeTocItem) activeTocItem.removeClass("is-current");
                activeTocItem = toActive
                activeTocItem.addClass("is-current");
            }
        
            initIntersectionObserver($(document).height() * 2);
            headerElems.each(function (index, obj) {
                obj.toc_id = index;
                scrollObserver.observe(obj);
            })
        });</script></div><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg" alt="zronghui"></figure><p class="title is-size-4 is-block line-height-inherit">zronghui</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">582</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">49</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">48</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/zronghui" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zronghui"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-01T14:15:50.000Z">2020-12-01</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AMySQL8-cookbook%E3%80%8B-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《MySQL8 cookbook》 阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:16:28.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8ARedis-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E3%80%8B.html">《Redis 设计与实现》</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:16:13.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AMongoDB-%E5%AE%9E%E6%88%98%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《MongoDB 实战》阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:15:56.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8ALinux-Shell-%E8%84%9A%E6%9C%AC%E6%94%BB%E7%95%A5%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《Linux Shell 脚本攻略》阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T07:52:12.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4-MYSQL45%E8%AE%B2-%E7%AC%94%E8%AE%B0.html">极客时间-MYSQL45讲-笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Chrome/"><span class="level-start"><span class="level-item">Chrome</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Leetcode-weekly-contest/"><span class="level-start"><span class="level-item">Leetcode weekly contest</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Mac/"><span class="level-start"><span class="level-item">Mac</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/blockchain/"><span class="level-start"><span class="level-item">blockchain</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/docker-k8s/"><span class="level-start"><span class="level-item">docker k8s</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/frontEnd/"><span class="level-start"><span class="level-item">frontEnd</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/go/"><span class="level-start"><span class="level-item">go</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">40</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/java/Collections/"><span class="level-start"><span class="level-item">Collections</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li></ul></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Array/"><span class="tag">Array</span><span class="tag is-grey-lightest">35</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tree/"><span class="tag">Tree</span><span class="tag is-grey-lightest">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dynamic-Programming/"><span class="tag">Dynamic Programming</span><span class="tag is-grey-lightest">21</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Binary-Search/"><span class="tag">Binary Search</span><span class="tag is-grey-lightest">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hash-Table/"><span class="tag">Hash Table</span><span class="tag is-grey-lightest">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Depth-first-Search/"><span class="tag">Depth-first Search</span><span class="tag is-grey-lightest">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag is-grey-lightest">16</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Math/"><span class="tag">Math</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Two-Pointers/"><span class="tag">Two Pointers</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/String/"><span class="tag">String</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linked-List/"><span class="tag">Linked List</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Stack/"><span class="tag">Stack</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Backtracking/"><span class="tag">Backtracking</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Heap/"><span class="tag">Heap</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Breadth-first-Search/"><span class="tag">Breadth-first Search</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tricks/"><span class="tag">tricks</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design/"><span class="tag">Design</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bit-Manipulation/"><span class="tag">Bit Manipulation</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sort/"><span class="tag">Sort</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Divide-and-Conquer/"><span class="tag">Divide and Conquer</span><span class="tag is-grey-lightest">5</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=zronghui&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="zronghui" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div><p class="help">输入邮箱开始订阅，更博后邮件通知！</p></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://www.wntool.com/logo/image.php?output=png?fsize=35&amp;font=Snow.ttf&amp;text=zronghui&amp;mirror=No&amp;color=9933FF&amp;vcolor=3333FF&amp;bgcolor=FFFFFF&amp;alpha=yes&amp;output=png&amp;spacing=5&amp;shadow=no&amp;transparent=yes&amp;icon=no&amp;iconic=&amp;top_spacing=5&amp;left_spacing=6&amp;icon_size=48" alt="zronghui的博客" height="28"></a><p class="size-small"><span>&copy; 2020 zronghui</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>,Modify by <a href="https://github.com/removeif" target="_blank">removeif</a> <br>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br>    方便于网友与自己学习交流，如有侵权，请<a href="https://zronghui.github.io/message/" target="_blank">留言</a>，立即处理]<br><script type="text/javascript" src="/js/statistics.js"></script><span id="statistic-times"></span><br></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zronghui"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-Hans");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://zronghui.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script src="/js/gallery.js" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/comment-issue-data.js" defer></script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: '文章',
                    PAGES: '页面',
                    CATEGORIES: '分类',
                    TAGS: '标签',
                    UNTITLED: '(无标题)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script></body></html>