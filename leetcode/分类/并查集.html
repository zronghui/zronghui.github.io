<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>并查集 - zronghui的博客</title><meta description="[TOC]"><meta property="og:type" content="blog"><meta property="og:title" content="zronghui"><meta property="og:url" content="https://zronghui.github.io/"><meta property="og:site_name" content="zronghui"><meta property="og:description" content="[TOC]"><meta property="og:image" content="https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png# https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg"><meta property="article:published_time" content="2020-08-05T09:08:28.000Z"><meta property="article:modified_time" content="2020-09-08T15:47:12.000Z"><meta property="article:author" content="removeif"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png# https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zronghui.github.io/"},"headline":"zronghui","image":["https://i.loli.net/2020/03/01/Lxsrj19ucvzetiM.png#https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg# https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@latest/img/avatar.jpg"],"datePublished":"2020-08-05T09:08:28.000Z","dateModified":"2020-09-08T15:47:12.000Z","author":{"@type":"Person","name":"removeif"},"description":"[TOC]"}</script><link rel="alternative" href="/atom.xml" title="zronghui的博客" type="application/atom+xml"><link rel="icon" href="https://cdn.jsdelivr.net/gh/removeif/removeif.github.io@latest/img/wico.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="/js/globalUtils.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://www.wntool.com/logo/image.php?output=png?fsize=35&amp;font=Snow.ttf&amp;text=zronghui&amp;mirror=No&amp;color=9933FF&amp;vcolor=3333FF&amp;bgcolor=FFFFFF&amp;alpha=yes&amp;output=png&amp;spacing=5&amp;shadow=no&amp;transparent=yes&amp;icon=no&amp;iconic=&amp;top_spacing=5&amp;left_spacing=6&amp;icon_size=48" alt="zronghui的博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/media">影音</a><a class="navbar-item" href="/album">相册</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zronghui"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-05T09:08:28.000Z">2020-08-05</time><a class="commentCountImg" href="/leetcode/%E5%88%86%E7%B1%BB/%E5%B9%B6%E6%9F%A5%E9%9B%86.html#comment-container"><span class="display-none-class">d6154d033b9b1a01f87eb4a462aa6335</span><img class="not-gallery-item" src="/img/chat.svg"> <span class="commentCount" id="d6154d033b9b1a01f87eb4a462aa6335"> 99+</span>    </a><span class="level-item"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/leetcode/">leetcode</a><span> / </span><a class="link-muted" href="/categories/leetcode/%E5%88%86%E7%B1%BB/">分类</a></span><span class="level-item">21 minutes 读完 (大约 3081 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">并查集</h1><div class="content"><p>[TOC]</p>
<a id="more"></a>

<h2 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h2><h3 id="721-账户合并-力扣（LeetCode）"><a href="#721-账户合并-力扣（LeetCode）" class="headerlink" title="721. 账户合并 - 力扣（LeetCode）"></a>721. 账户合并 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/accounts-merge/submissions/">721. 账户合并 - 力扣（LeetCode）</a><br><a href="https://leetcode.com/articles/accounts-merge/">Accounts Merge - LeetCode Articles</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.p = list(range(<span class="number">10001</span>))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x!=self.p[x]: x = self.p[x]</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">same</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.find(x)==self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">accountsMerge</span><span class="params">(self, accounts: List[List[str]])</span> -&gt; List[List[str]]:</span></span><br><span class="line">        <span class="comment"># 并查集</span></span><br><span class="line">        dsu = DSU()</span><br><span class="line">        email_id, email_name = &#123;&#125;, &#123;&#125;</span><br><span class="line">        <span class="comment"># account 里都在一个集合里</span></span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> accounts:</span><br><span class="line">            name = l[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">for</span> email <span class="keyword">in</span> l[<span class="number">1</span>:]:</span><br><span class="line">                email_name[email] = name</span><br><span class="line">                <span class="keyword">if</span> email <span class="keyword">not</span> <span class="keyword">in</span> email_id:</span><br><span class="line">                    email_id[email] = i</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                dsu.union(email_id[l[<span class="number">1</span>]], email_id[email])</span><br><span class="line">        ans = collections.defaultdict(list)</span><br><span class="line">        <span class="keyword">for</span> email <span class="keyword">in</span> email_name:</span><br><span class="line">            ans[dsu.find(email_id[email])].append(email)</span><br><span class="line">        <span class="keyword">return</span> [[email_name[i[<span class="number">0</span>]], *sorted(i)] <span class="keyword">for</span> i <span class="keyword">in</span> ans.values()]</span><br></pre></td></tr></table></figure>



<h3 id="684-冗余连接-力扣（LeetCode）"><a href="#684-冗余连接-力扣（LeetCode）" class="headerlink" title="684. 冗余连接 - 力扣（LeetCode）"></a>684. 冗余连接 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/redundant-connection/comments/">684. 冗余连接 - 力扣（LeetCode）</a></p>
<p><a href="https://leetcode-cn.com/problems/redundant-connection/solution/tong-su-jiang-jie-bing-cha-ji-bang-zhu-xiao-bai-ku/">通俗讲解并查集，帮助小白快速理解 - 冗余连接 - 力扣（LeetCode）</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="string">"""并查集"""</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    记录1到N的每个数的根，因为如果有环，导致环相连的[u, v]一定有相同的root，</span></span><br><span class="line"><span class="string">    我们可以理解为是一个节点的两个分支，通过[u,v]被连起来了，既然他们是一个节点的两个分支，那么他们一定有相同的root，所以直接移除[u,v]就好啦。</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRedundantConnection</span><span class="params">(self, edges: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class="line">        root = list(range(len(edges)+<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(i)</span>:</span></span><br><span class="line">            <span class="keyword">while</span> i!=root[i]:</span><br><span class="line">                i = root[i]</span><br><span class="line">            <span class="keyword">return</span> i</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> u, v <span class="keyword">in</span> edges:</span><br><span class="line">            uroot, vroot = map(find, [u, v])</span><br><span class="line">            <span class="keyword">if</span> uroot!=vroot:</span><br><span class="line">                root[uroot] = vroot</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> [u, v]</span><br></pre></td></tr></table></figure>

<h3 id="399-除法求值-力扣（LeetCode）"><a href="#399-除法求值-力扣（LeetCode）" class="headerlink" title="399. 除法求值 - 力扣（LeetCode）"></a>399. 除法求值 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/evaluate-division/">399. 除法求值 - 力扣（LeetCode）</a></p>
<h4 id="flyod"><a href="#flyod" class="headerlink" title="flyod"></a>flyod</h4><p>不是用索引表示的 edges</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calcEquation</span><span class="params">(self, equations: List[List[str]], values: List[float], queries: List[List[str]])</span> -&gt; List[float]:</span></span><br><span class="line">        <span class="comment"># flyod</span></span><br><span class="line">        edges = collections.defaultdict(dict)</span><br><span class="line">        verts = set()</span><br><span class="line">        <span class="keyword">for</span> (a, b), c <span class="keyword">in</span> zip(equations, values):</span><br><span class="line">            edges[a][b] = c</span><br><span class="line">            edges[b][a] = <span class="number">1</span>/c</span><br><span class="line">            verts.add(a)</span><br><span class="line">            verts.add(b)</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> verts:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> verts:</span><br><span class="line">                <span class="keyword">if</span> i==k: <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> verts:</span><br><span class="line">                    <span class="comment"># 若存在 edges[i][j] 不用再计算一遍</span></span><br><span class="line">                    <span class="keyword">if</span> j <span class="keyword">in</span> [i, k] <span class="keyword">or</span> j <span class="keyword">in</span> edges[i]: <span class="keyword">continue</span></span><br><span class="line">                    <span class="comment"># 同时存在 edges[i][k] edges[k][j] 时更新</span></span><br><span class="line">                    <span class="keyword">if</span> k <span class="keyword">in</span> edges[i] <span class="keyword">and</span> j <span class="keyword">in</span> edges[k]:</span><br><span class="line">                        edges[i][j] = edges[i][k]*edges[k][j]</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> queries:</span><br><span class="line">            <span class="keyword">if</span> a==b <span class="keyword">and</span> a <span class="keyword">in</span> verts <span class="keyword">and</span> b <span class="keyword">in</span> verts: res.append(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">elif</span> a <span class="keyword">in</span> edges <span class="keyword">and</span> b <span class="keyword">in</span> edges[a]: res.append(edges[a][b])</span><br><span class="line">            <span class="keyword">else</span>: res.append(<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h4 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calcEquation</span><span class="params">(self, equations: List[List[str]], values: List[float], queries: List[List[str]])</span> -&gt; List[float]:</span></span><br><span class="line">        <span class="comment"># dfs</span></span><br><span class="line">        edges = collections.defaultdict(dict)</span><br><span class="line">        verts = set()</span><br><span class="line">        <span class="keyword">for</span> (a, b), c <span class="keyword">in</span> zip(equations, values):</span><br><span class="line">            edges[a][b] = c</span><br><span class="line">            edges[b][a] = <span class="number">1</span>/c</span><br><span class="line">            verts.add(a)</span><br><span class="line">            verts.add(b)</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(s, t)</span>:</span></span><br><span class="line">            visited.add(s)</span><br><span class="line">            <span class="keyword">if</span> t <span class="keyword">in</span> edges[s]: <span class="keyword">return</span> edges[s][t]</span><br><span class="line">            <span class="keyword">for</span> node <span class="keyword">in</span> edges[s]:</span><br><span class="line">                <span class="keyword">if</span> node <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    temp = dfs(node, t)</span><br><span class="line">                    <span class="keyword">if</span> temp!=<span class="number">-1</span>:</span><br><span class="line">                        edges[s][t] = edges[s][node]*temp</span><br><span class="line">                        <span class="keyword">return</span> edges[s][t]</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> queries:</span><br><span class="line">            <span class="keyword">if</span> a <span class="keyword">in</span> verts <span class="keyword">and</span> b <span class="keyword">in</span> verts:</span><br><span class="line">                <span class="keyword">if</span> a==b:res.append(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    visited = set()</span><br><span class="line">                    res.append(dfs(a, b))</span><br><span class="line">            <span class="keyword">else</span>: res.append(<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h3 id="785-判断二分图-力扣（LeetCode）"><a href="#785-判断二分图-力扣（LeetCode）" class="headerlink" title="785. 判断二分图 - 力扣（LeetCode）"></a>785. 判断二分图 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/is-graph-bipartite/">785. 判断二分图 - 力扣（LeetCode）</a><br><a href="https://leetcode-cn.com/problems/is-graph-bipartite/solution/bfs-dfs-bing-cha-ji-san-chong-fang-fa-pan-duan-er-/">BFS + DFS + 并查集，三种方法判断二分图 - 判断二分图 - 力扣（LeetCode）</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isBipartite</span><span class="params">(self, graph: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        <span class="comment"># 染色+xfs 或 并查集</span></span><br><span class="line">        <span class="comment"># 图中每个顶点的所有邻接点都应该属于同一集合，且不与顶点处于同一集合</span></span><br><span class="line">        n = len(graph)</span><br><span class="line">        l = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)] <span class="comment"># 0 没访问，1 -1 表示2种颜色</span></span><br><span class="line">        queue = collections.deque()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="comment"># 染过色了，跳过</span></span><br><span class="line">            <span class="keyword">if</span> l[i]: <span class="keyword">continue</span></span><br><span class="line">            l[i] = <span class="number">1</span> <span class="comment"># 随便染个 1</span></span><br><span class="line">            <span class="comment"># i 染色后，把相关的所有节点都染上色</span></span><br><span class="line">            queue.append(i)</span><br><span class="line">            <span class="keyword">while</span> queue:</span><br><span class="line">                v = queue.popleft()</span><br><span class="line">                <span class="keyword">for</span> w <span class="keyword">in</span> graph[v]:</span><br><span class="line">                    <span class="keyword">if</span> l[w]==<span class="number">0</span>:</span><br><span class="line">                        l[w] = -l[v]</span><br><span class="line">                        queue.append(w)</span><br><span class="line">                    <span class="keyword">elif</span> l[w]==l[v]: <span class="keyword">return</span> <span class="literal">False</span> <span class="comment"># 已经染的色不对劲</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>



<p>学会后，并查集还是很好写的，毕竟一半都是模板</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.p = list(range(<span class="number">101</span>))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x!=self.p[x]:</span><br><span class="line">            x = self.p[x]</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">same</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.find(x) == self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isBipartite</span><span class="params">(self, graph: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        <span class="comment"># 并查集</span></span><br><span class="line">        dsu = DSU()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(graph)):</span><br><span class="line">            <span class="keyword">if</span> len(graph[i])==<span class="number">0</span>: <span class="keyword">continue</span></span><br><span class="line">            <span class="comment"># graph[i] 是 i 顶点的所有邻接点，他们属于同一个集合</span></span><br><span class="line">            <span class="keyword">for</span> node <span class="keyword">in</span> graph[i]:</span><br><span class="line">                dsu.union(graph[i][<span class="number">0</span>], node)</span><br><span class="line">            <span class="comment"># 但是 i 与他们不是一个集合</span></span><br><span class="line">            <span class="keyword">if</span> dsu.same(i, graph[i][<span class="number">0</span>]): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>相似的一道题</p>
<h3 id="886-可能的二分法-力扣（LeetCode）"><a href="#886-可能的二分法-力扣（LeetCode）" class="headerlink" title="886. 可能的二分法 - 力扣（LeetCode）"></a><a href="https://leetcode-cn.com/problems/possible-bipartition/">886. 可能的二分法 - 力扣（LeetCode）</a></h3><p>染色还是快很多的</p>
<p><img src="https://i.loli.net/2020/08/11/LseqQhjKOCMWawt.png" alt="image-20200811105513575"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.n = n</span><br><span class="line">        self.p = list(range(n))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.find(self.p[x])</span><br><span class="line">        <span class="keyword">return</span> self.p[x]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        u, v = self.find(x), self.find(y)</span><br><span class="line">        <span class="keyword">if</span> v!=u:</span><br><span class="line">            self.n -= <span class="number">1</span></span><br><span class="line">            self.p[u] = v</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">same</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.find(x) == self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">possibleBipartition</span><span class="params">(self, N: int, dislikes: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        <span class="keyword">if</span> N==<span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> dislikes: <span class="keyword">return</span> <span class="literal">True</span> <span class="comment"># 有意思吗？说好的分成 2 组的</span></span><br><span class="line">        dsu = DSU(N+<span class="number">1</span>)</span><br><span class="line">        d = collections.defaultdict(list)</span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> dislikes:</span><br><span class="line">            d[a].append(b)</span><br><span class="line">            d[b].append(a)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> d:</span><br><span class="line">            h = d[i][<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> d[i][<span class="number">1</span>:]:</span><br><span class="line">                dsu.union(h, j)</span><br><span class="line">            <span class="keyword">if</span> dsu.same(i, h): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> dsu.n&gt;=<span class="number">3</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">possibleBipartition</span><span class="params">(self, N: int, dislikes: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        <span class="keyword">if</span> N==<span class="number">1</span> <span class="keyword">and</span> <span class="keyword">not</span> dislikes: <span class="keyword">return</span> <span class="literal">True</span> <span class="comment"># 有意思吗？说好的分成 2 组的</span></span><br><span class="line">        l = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(N+<span class="number">1</span>)]</span><br><span class="line">        d = collections.defaultdict(list)</span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> dislikes:</span><br><span class="line">            d[a].append(b)</span><br><span class="line">            d[b].append(a)</span><br><span class="line">        queue = collections.deque()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, N+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> l[i]: <span class="keyword">continue</span></span><br><span class="line">            l[i] = <span class="number">1</span></span><br><span class="line">            queue.append(i)</span><br><span class="line">            <span class="keyword">while</span> queue:</span><br><span class="line">                cur = queue.popleft()</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> d[cur]:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> l[j]:</span><br><span class="line">                        l[j] = -l[cur]</span><br><span class="line">                        queue.append(j)</span><br><span class="line">                    <span class="keyword">elif</span> l[j]==l[cur]: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>



<h3 id="959-由斜杠划分区域-力扣（LeetCode）"><a href="#959-由斜杠划分区域-力扣（LeetCode）" class="headerlink" title="959. 由斜杠划分区域 - 力扣（LeetCode）"></a>959. 由斜杠划分区域 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/regions-cut-by-slashes/submissions/">959. 由斜杠划分区域 - 力扣（LeetCode）</a></p>
<p>‘\\‘ \ 有转义的作用，需要写 2 个(md 里为了写 2 个\ 需要写 4 个\)</p>
<h4 id="并查集-1"><a href="#并查集-1" class="headerlink" title="并查集"></a>并查集</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.p = list(range(<span class="number">30</span>*<span class="number">30</span>*<span class="number">4</span>))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x!=self.p[x]:</span><br><span class="line">            x = self.p[x]</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">same</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.find(x)==self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">regionsBySlashes</span><span class="params">(self, grid: List[str])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># 并查集</span></span><br><span class="line">        <span class="comment"># 1格 划分为 0123 4个小区间:</span></span><br><span class="line">        <span class="comment"># \ 0 /</span></span><br><span class="line">        <span class="comment"># 1 x 3 </span></span><br><span class="line">        <span class="comment"># / 2 \</span></span><br><span class="line">        n, m = len(grid), len(grid[<span class="number">0</span>])</span><br><span class="line">        dsu = DSU()</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">idx</span><span class="params">(i, j, t)</span>:</span></span><br><span class="line">            <span class="comment"># 返回 i, j 位置的区块在 t(0-3) 的索引</span></span><br><span class="line">            <span class="comment"># 前面有 i 行，左边有 j 大格</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">4</span>*(m*i+j)+t</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">                <span class="comment"># 当前格的0和上一行的格的2一定相连</span></span><br><span class="line">                <span class="keyword">if</span> i&gt;<span class="number">0</span>: dsu.union(idx(i, j, <span class="number">0</span>), idx(i<span class="number">-1</span>, j, <span class="number">2</span>))</span><br><span class="line">                <span class="comment"># 当前格的1和上一列的格的3一定相连</span></span><br><span class="line">                <span class="keyword">if</span> j&gt;<span class="number">0</span>: dsu.union(idx(i, j, <span class="number">1</span>), idx(i, j<span class="number">-1</span>, <span class="number">3</span>))</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="string">'/'</span>:</span><br><span class="line">                    dsu.union(idx(i, j, <span class="number">0</span>), idx(i, j, <span class="number">1</span>))</span><br><span class="line">                    dsu.union(idx(i, j, <span class="number">2</span>), idx(i, j, <span class="number">3</span>))</span><br><span class="line">                <span class="keyword">elif</span> grid[i][j]==<span class="string">'\\'</span>:</span><br><span class="line">                    dsu.union(idx(i, j, <span class="number">0</span>), idx(i, j, <span class="number">3</span>))</span><br><span class="line">                    dsu.union(idx(i, j, <span class="number">1</span>), idx(i, j, <span class="number">2</span>))</span><br><span class="line">                <span class="keyword">elif</span> grid[i][j]==<span class="string">' '</span>:</span><br><span class="line">                    dsu.union(idx(i, j, <span class="number">0</span>), idx(i, j, <span class="number">1</span>))</span><br><span class="line">                    dsu.union(idx(i, j, <span class="number">2</span>), idx(i, j, <span class="number">3</span>))</span><br><span class="line">                    dsu.union(idx(i, j, <span class="number">0</span>), idx(i, j, <span class="number">3</span>))</span><br><span class="line">        <span class="keyword">return</span> len(set(dsu.find(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(n*m*<span class="number">4</span>)))</span><br></pre></td></tr></table></figure>

<h4 id="问题转化"><a href="#问题转化" class="headerlink" title="问题转化"></a>问题转化</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printGrid</span><span class="params">(grid)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> grid:</span><br><span class="line">        print(l)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">regionsBySlashes</span><span class="params">(self, grid: List[str])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># 并查集没学过，有点难</span></span><br><span class="line">        <span class="comment"># 取巧的办法</span></span><br><span class="line">        <span class="comment"># / 转换成  \ 转换成</span></span><br><span class="line">        <span class="comment"># 0 0 1   1 0 0</span></span><br><span class="line">        <span class="comment"># 0 1 0   0 1 0</span></span><br><span class="line">        <span class="comment"># 1 0 0   0 0 1</span></span><br><span class="line">        <span class="comment"># 再查找 0 组成的岛屿</span></span><br><span class="line">        <span class="comment"># 思路是不难了，但是解题过程也挺复杂</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">islandNum</span><span class="params">(grid)</span>:</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(i, j)</span>:</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> <span class="number">0</span>&lt;=i&lt;n <span class="keyword">or</span> <span class="keyword">not</span> <span class="number">0</span>&lt;=j&lt;n <span class="keyword">or</span> grid[i][j]==<span class="number">1</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">                grid[i][j] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">for</span> di, dj <span class="keyword">in</span> [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">-1</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">-1</span>, <span class="number">0</span>]]:</span><br><span class="line">                    dfs(i+di, j+dj)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            n = len(grid)</span><br><span class="line">            <span class="keyword">return</span> sum(dfs(i, j) <span class="keyword">for</span> i <span class="keyword">in</span> range(n) <span class="keyword">for</span> j <span class="keyword">in</span> range(n))</span><br><span class="line"></span><br><span class="line">        n = len(grid)</span><br><span class="line">        grid3 = [[<span class="number">0</span>]*(<span class="number">3</span>*n) <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">3</span>*n)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="string">'/'</span>:</span><br><span class="line">                    <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">                        grid3[<span class="number">3</span>*i+k][<span class="number">3</span>*j+<span class="number">2</span>-k] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">elif</span> grid[i][j]==<span class="string">'\\'</span>:</span><br><span class="line">                    <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">                        grid3[<span class="number">3</span>*i+k][<span class="number">3</span>*j+k] = <span class="number">1</span></span><br><span class="line">        printGrid(grid3)</span><br><span class="line">        <span class="keyword">return</span> islandNum(grid3)</span><br></pre></td></tr></table></figure>



<h3 id="947-移除最多的同行或同列石头-力扣（LeetCode）"><a href="#947-移除最多的同行或同列石头-力扣（LeetCode）" class="headerlink" title="947. 移除最多的同行或同列石头 - 力扣（LeetCode）"></a>947. 移除最多的同行或同列石头 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/most-stones-removed-with-same-row-or-column/submissions/">947. 移除最多的同行或同列石头 - 力扣（LeetCode）</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.p = list(range(<span class="number">1000</span>))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x!=self.p[x]:</span><br><span class="line">            x = self.p[x]</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeStones</span><span class="params">(self, stones: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># 并查集的题目都这么难懂吗, 题意理解，见↓</span></span><br><span class="line">        <span class="comment"># [Python，DFS解法，用时仅为68ms，大量注释 - 移除最多的同行或同列石头 - 力扣（LeetCode）]</span></span><br><span class="line">        <span class="comment"># (https://leetcode-cn.com/problems/most-stones-removed-with-same-row-or-column/solution/pythondfsjie-fa-yong-shi-jin-wei-68msda-liang-zhu-/)</span></span><br><span class="line">        <span class="comment"># 横坐标 或 纵坐标 相等即为连通</span></span><br><span class="line">        <span class="comment"># 对于任何容量为n 的一个连通分量，最后剩下 1 个石头，即可以移除的石头数都为n-1</span></span><br><span class="line">        <span class="comment"># 可以移走的石头数 = 总石头数 - 剩余石头数 = stones列表长度 - 连通分量个数</span></span><br><span class="line">        di, dj = &#123;&#125;, &#123;&#125; <span class="comment"># 同 i 或 同 j 的点, 记录一个就好</span></span><br><span class="line">        <span class="comment"># d = defaultdict(dict) # d[i][j] = idx # ij -&gt; dsu 的索引</span></span><br><span class="line">        dsu = DSU()</span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> stones:</span><br><span class="line">            <span class="comment"># i 行已经有元素的话，与那个元素合并</span></span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> di: dsu.union(idx, di[i])</span><br><span class="line">            <span class="keyword">else</span>: di[i] = idx</span><br><span class="line">            <span class="keyword">if</span> j <span class="keyword">in</span> dj: dsu.union(idx, dj[j])</span><br><span class="line">            <span class="keyword">else</span>: dj[j] = idx</span><br><span class="line"></span><br><span class="line">            <span class="comment"># d[i][j] = idx</span></span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> len(stones)-len(set(dsu.find(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(idx)))</span><br></pre></td></tr></table></figure>

<h3 id="990-等式方程的可满足性-力扣（LeetCode）"><a href="#990-等式方程的可满足性-力扣（LeetCode）" class="headerlink" title="990. 等式方程的可满足性 - 力扣（LeetCode）"></a>990. 等式方程的可满足性 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/satisfiability-of-equality-equations/submissions/">990. 等式方程的可满足性 - 力扣（LeetCode）</a></p>
<p>不知为什么，我的并查集一直挺慢的</p>
<p>看其他解答里有个路径压缩，不知道是什么意思</p>
<img src="https://i.loli.net/2020/08/05/nEkIJP5tsApYUBG.png" alt="image-20200805172512601" style="zoom:50%;" />

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.p = list(range(<span class="number">26</span>))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x!=self.p[x]:</span><br><span class="line">            x = self.p[x]</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">equationsPossible</span><span class="params">(self, equations: List[str])</span> -&gt; bool:</span></span><br><span class="line">        dsu = DSU()</span><br><span class="line">        <span class="comment"># 先遍历一遍，处理 ==</span></span><br><span class="line">        <span class="keyword">for</span> a, t, _, b <span class="keyword">in</span> equations:</span><br><span class="line">            a, b = ord(a)-ord(<span class="string">'a'</span>), ord(b)-ord(<span class="string">'a'</span>)</span><br><span class="line">            <span class="keyword">if</span> t==<span class="string">'!'</span>:</span><br><span class="line">                <span class="keyword">if</span> dsu.find(a)==dsu.find(b): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dsu.union(a, b)</span><br><span class="line">        <span class="keyword">for</span> a, t, _, b <span class="keyword">in</span> equations:</span><br><span class="line">            <span class="keyword">if</span> t==<span class="string">'='</span>: <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> dsu.find(ord(a)-ord(<span class="string">'a'</span>))==dsu.find(ord(b)-ord(<span class="string">'a'</span>)): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.p[self.p[x]] <span class="comment"># 隔代路径压缩</span></span><br><span class="line">            x = self.p[x]</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure>

<h3 id="1319-连通网络的操作次数-力扣（LeetCode）"><a href="#1319-连通网络的操作次数-力扣（LeetCode）" class="headerlink" title="1319. 连通网络的操作次数 - 力扣（LeetCode）"></a>1319. 连通网络的操作次数 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/number-of-operations-to-make-network-connected/submissions/">1319. 连通网络的操作次数 - 力扣（LeetCode）</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.p = list(range(n))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.find(self.p[x])</span><br><span class="line">        <span class="keyword">return</span> self.p[x]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeConnected</span><span class="params">(self, n: int, connections: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># 最少 n-1 根线</span></span><br><span class="line">        <span class="keyword">if</span> len(connections)&lt;n<span class="number">-1</span>: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="comment"># return x-1  x:x个集群</span></span><br><span class="line">        dsu = DSU(n)</span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> connections:</span><br><span class="line">            dsu.union(a, b)</span><br><span class="line">        <span class="keyword">return</span> len(set(dsu.find(i) <span class="keyword">for</span> i <span class="keyword">in</span> range(n)))<span class="number">-1</span></span><br></pre></td></tr></table></figure>

<p>改进，在 dsu 里面维护连通分量的个数 n, 合并一个n就减一</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.p = list(range(n))</span><br><span class="line">        self.n = n</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.find(self.p[x])</span><br><span class="line">        <span class="keyword">return</span> self.p[x]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        px, py = map(self.find, (x, y))</span><br><span class="line">        <span class="keyword">if</span> px!=py:</span><br><span class="line">            self.p[px] = py</span><br><span class="line">            self.n -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeConnected</span><span class="params">(self, n: int, connections: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># 最少 n-1 根线</span></span><br><span class="line">        <span class="keyword">if</span> len(connections)&lt;n<span class="number">-1</span>: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="comment"># return x-1  x:x个连通分量</span></span><br><span class="line">        dsu = DSU(n)</span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> connections:</span><br><span class="line">            dsu.union(a, b)</span><br><span class="line">        <span class="comment"># return len(set(dsu.find(i) for i in range(n)))-1</span></span><br><span class="line">        <span class="keyword">return</span> dsu.n<span class="number">-1</span></span><br></pre></td></tr></table></figure>

<h3 id="1202-交换字符串中的元素-力扣（LeetCode）"><a href="#1202-交换字符串中的元素-力扣（LeetCode）" class="headerlink" title="1202. 交换字符串中的元素 - 力扣（LeetCode）"></a>1202. 交换字符串中的元素 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/smallest-string-with-swaps/submissions/">1202. 交换字符串中的元素 - 力扣（LeetCode）</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.p = list(range(n))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.find(self.p[x])</span><br><span class="line">        <span class="keyword">return</span> self.p[x]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">smallestStringWithSwaps</span><span class="params">(self, s: str, pairs: List[List[int]])</span> -&gt; str:</span></span><br><span class="line">        <span class="comment"># 连通分量内字母排序</span></span><br><span class="line">        dsu = DSU(len(s))</span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> pairs:</span><br><span class="line">            dsu.union(a, b)</span><br><span class="line">        d = collections.defaultdict(list)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            d[dsu.find(i)].append(s[i])</span><br><span class="line">        <span class="keyword">for</span> root <span class="keyword">in</span> d:</span><br><span class="line">            d[root].sort(reverse=<span class="literal">True</span>)</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            res.append(d[dsu.find(i)].pop())</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(res)</span><br></pre></td></tr></table></figure>

<h3 id="面试题-17-07-婴儿名字-力扣（LeetCode）"><a href="#面试题-17-07-婴儿名字-力扣（LeetCode）" class="headerlink" title="面试题 17.07. 婴儿名字 - 力扣（LeetCode）"></a>面试题 17.07. 婴儿名字 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/baby-names-lcci/submissions/">面试题 17.07. 婴儿名字 - 力扣（LeetCode）</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.p = list(range(n))</span><br><span class="line">        self.n = n</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.find(self.p[x])</span><br><span class="line">        <span class="keyword">return</span> self.p[x]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">trulyMostPopular</span><span class="params">(self, names: List[str], synonyms: List[str])</span> -&gt; List[str]:</span></span><br><span class="line">        l = [] <span class="comment"># idx -&gt; name</span></span><br><span class="line">        name_idx = &#123;&#125; <span class="comment"># name -&gt; idx</span></span><br><span class="line">        dsu = DSU(len(synonyms)*<span class="number">2</span>)</span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> synonyms:</span><br><span class="line">            i = i.strip(<span class="string">'()'</span>).split(<span class="string">','</span>)</span><br><span class="line">            idxs = []</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">                <span class="keyword">if</span> j <span class="keyword">not</span> <span class="keyword">in</span> name_idx:</span><br><span class="line">                    name_idx[j] = idx</span><br><span class="line">                    idxs.append(idx)</span><br><span class="line">                    l.append(j)</span><br><span class="line">                    idx += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>: idxs.append(name_idx[j])</span><br><span class="line">            dsu.union(*idxs)</span><br><span class="line">        d = collections.defaultdict(list) <span class="comment"># root -&gt; [names]</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(l)):</span><br><span class="line">            d[dsu.find(i)].append(l[i])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> d:</span><br><span class="line">            d[i] = [min(d[i])]</span><br><span class="line">        <span class="comment"># d: root-&gt; [min(names)]</span></span><br><span class="line">        <span class="comment"># d1: root-&gt; num</span></span><br><span class="line">        d1 = collections.defaultdict(int)</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> names:</span><br><span class="line">            name, n = s.strip(<span class="string">')'</span>).split(<span class="string">'('</span>)</span><br><span class="line">            <span class="keyword">if</span> name <span class="keyword">not</span> <span class="keyword">in</span> name_idx:</span><br><span class="line">                res.append(s)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                d1[dsu.find(name_idx[name])] += int(n)</span><br><span class="line">        <span class="keyword">for</span> root <span class="keyword">in</span> d1:</span><br><span class="line">            name = d[root][<span class="number">0</span>]</span><br><span class="line">            n = d1[root]</span><br><span class="line">            res.append(<span class="string">f'<span class="subst">&#123;name&#125;</span>(<span class="subst">&#123;n&#125;</span>)'</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h3 id="130-被围绕的区域-力扣（LeetCode）"><a href="#130-被围绕的区域-力扣（LeetCode）" class="headerlink" title="130. 被围绕的区域 - 力扣（LeetCode）"></a>130. 被围绕的区域 - 力扣（LeetCode）</h3><p><a href="https://leetcode-cn.com/problems/surrounded-regions/submissions/">130. 被围绕的区域 - 力扣（LeetCode）</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DSU</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.p = list(range(n))</span><br><span class="line">        self.n = n</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.find(self.p[x])</span><br><span class="line">        <span class="keyword">return</span> self.p[x]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.p[self.find(x)] = self.find(y)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">same</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.find(x)==self.find(y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">solve</span><span class="params">(self, board: List[List[str]])</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Do not return anything, modify board in-place instead.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># 连接相通的元素，并记录边缘的元素</span></span><br><span class="line">        <span class="comment"># 排除与 边缘的元素 同 root 的元素（dsu 长度可以额外多一个，作为需要移除的集合）</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> board <span class="keyword">or</span> <span class="keyword">not</span> board[<span class="number">0</span>]: <span class="keyword">return</span> board</span><br><span class="line">        n, m = len(board), len(board[<span class="number">0</span>])</span><br><span class="line">        dsu = DSU(n*m+<span class="number">1</span>)</span><br><span class="line">        exclude_idx = n*m</span><br><span class="line">        oidx = [] <span class="comment"># 是 O 的idx</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">border</span><span class="params">(i, j)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> i <span class="keyword">in</span> [<span class="number">0</span>, n<span class="number">-1</span>] <span class="keyword">or</span> j <span class="keyword">in</span> [<span class="number">0</span>, m<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">                <span class="keyword">if</span> board[i][j]==<span class="string">'X'</span>: <span class="keyword">continue</span></span><br><span class="line">                curidx = i*m+j</span><br><span class="line">                oidx.append(curidx)</span><br><span class="line">                <span class="keyword">if</span> border(i, j): dsu.union(curidx, exclude_idx)</span><br><span class="line">                <span class="keyword">if</span> i&gt;<span class="number">0</span> <span class="keyword">and</span> board[i<span class="number">-1</span>][j]==<span class="string">'O'</span>: dsu.union(curidx, curidx-m)</span><br><span class="line">                <span class="keyword">if</span> j&gt;<span class="number">0</span> <span class="keyword">and</span> board[i][j<span class="number">-1</span>]==<span class="string">'O'</span>: dsu.union(curidx, curidx<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">for</span> idx <span class="keyword">in</span> oidx:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> dsu.same(idx, exclude_idx):</span><br><span class="line">                i, j = divmod(idx, m)</span><br><span class="line">                board[i][j] = <span class="string">'X'</span></span><br></pre></td></tr></table></figure>





<h2 id="路径压缩"><a href="#路径压缩" class="headerlink" title="路径压缩"></a>路径压缩</h2><p>从这里学到的</p>
<p><a href="https://leetcode-cn.com/problems/satisfiability-of-equality-equations/solution/shi-yong-bing-cha-ji-chu-li-bu-xiang-jiao-ji-he-we/">使用并查集处理不相交集合问题（Java、Python） - 等式方程的可满足性 - 力扣（LeetCode）</a></p>
<img src="https://i.loli.net/2020/08/05/P7AFpdojx1XRETK.png" alt="image-20200805173254139" style="zoom:50%;" />

<p>一道题目路径压缩后的性能:</p>
<img src="https://i.loli.net/2020/08/05/8PAOY956GUrMZh4.png" alt="image-20200805173217140" style="zoom:50%;" />





<h3 id="python-版的路径压缩"><a href="#python-版的路径压缩" class="headerlink" title="python 版的路径压缩"></a>python 版的路径压缩</h3><h3 id="隔代路径压缩"><a href="#隔代路径压缩" class="headerlink" title="隔代路径压缩"></a>隔代路径压缩</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.p[self.p[x]]</span><br><span class="line">            x = self.p[x]</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure>

<h3 id="完全路径压缩"><a href="#完全路径压缩" class="headerlink" title="完全路径压缩"></a>完全路径压缩</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> x!=self.p[x]:</span><br><span class="line">            self.p[x] = self.find(self.p[x])</span><br><span class="line">        <span class="keyword">return</span> self.p[x]</span><br></pre></td></tr></table></figure>

</div><ul class="post-copyright"><li><strong>本文标题：</strong><a href="https://zronghui.github.io/leetcode/%E5%88%86%E7%B1%BB/%E5%B9%B6%E6%9F%A5%E9%9B%86.html">并查集</a></li><li><strong>本文作者：</strong><a href="https://zronghui.github.io">zronghui</a></li><li><strong>本文链接：</strong><a href="https://zronghui.github.io/leetcode/%E5%88%86%E7%B1%BB/%E5%B9%B6%E6%9F%A5%E9%9B%86.html">https://zronghui.github.io/leetcode/分类/并查集.html</a></li><li><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li></ul><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/Leetcode%20weekly%20contest/biweekly-contest-22.html" target="_blank">biweekly-contest-22</a><br></span><span>  2.<a class="is-size-6" href="/leetcode/%E7%A8%8B%E5%BA%8F%E5%91%98%E9%9D%A2%E8%AF%95%E9%87%91%E5%85%B8/%E9%9D%A2%E8%AF%95%E9%A2%98-01-07-%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5.html" target="_blank">面试题 01.07 旋转矩阵</a><br></span><span>  3.<a class="is-size-6" href="/Chrome/chrome-%E6%8F%92%E4%BB%B6.html" target="_blank">chrome 插件</a><br></span><span>  4.<a class="is-size-6" href="/Leetcode%20weekly%20contest/biweekly-contest-23.html" target="_blank">biweekly-contest-23</a><br></span><span>  5.<a class="is-size-6" href="/Leetcode%20weekly%20contest/weekly-contest-180.html" target="_blank">weekly-contest-180</a><br></span></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://i.loli.net/2020/03/05/MeFCknt1wipKvRA.png" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://i.loli.net/2020/03/05/MVJrxG3gO6qHSiz.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/leetcode/leetcode-7**/leetcode-778-Swim-in-Rising-Water.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">leetcode 778. Swim in Rising Water</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/leetcode/%E5%85%B6%E4%BB%96/%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D.html"><span class="level-item">打家劫舍</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: 'd6154d033b9b1a01f87eb4a462aa6335',
            repo: 'blog_comment',
            owner: 'zronghui',
            clientID: 'f1c7f9da01111d2e7163',
            clientSecret: '3aaaf709bd8edda1f4c57484cceba5fad5218978',
            admin: ["zronghui"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: 'last',
            
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget toc-scroll" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex" id="toc-item-并查集" href="#并查集"><span>并查集</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-721-账户合并-力扣（LeetCode）" href="#721-账户合并-力扣（LeetCode）"><span>721. 账户合并 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-684-冗余连接-力扣（LeetCode）" href="#684-冗余连接-力扣（LeetCode）"><span>684. 冗余连接 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-399-除法求值-力扣（LeetCode）" href="#399-除法求值-力扣（LeetCode）"><span>399. 除法求值 - 力扣（LeetCode）</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-flyod" href="#flyod"><span>flyod</span></a></li><li><a class="is-flex" id="toc-item-dfs" href="#dfs"><span>dfs</span></a></li></ul></li><li><a class="is-flex" id="toc-item-785-判断二分图-力扣（LeetCode）" href="#785-判断二分图-力扣（LeetCode）"><span>785. 判断二分图 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-886-可能的二分法-力扣（LeetCode）" href="#886-可能的二分法-力扣（LeetCode）"><span>886. 可能的二分法 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-959-由斜杠划分区域-力扣（LeetCode）" href="#959-由斜杠划分区域-力扣（LeetCode）"><span>959. 由斜杠划分区域 - 力扣（LeetCode）</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-并查集-1" href="#并查集-1"><span>并查集</span></a></li><li><a class="is-flex" id="toc-item-问题转化" href="#问题转化"><span>问题转化</span></a></li></ul></li><li><a class="is-flex" id="toc-item-947-移除最多的同行或同列石头-力扣（LeetCode）" href="#947-移除最多的同行或同列石头-力扣（LeetCode）"><span>947. 移除最多的同行或同列石头 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-990-等式方程的可满足性-力扣（LeetCode）" href="#990-等式方程的可满足性-力扣（LeetCode）"><span>990. 等式方程的可满足性 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-1319-连通网络的操作次数-力扣（LeetCode）" href="#1319-连通网络的操作次数-力扣（LeetCode）"><span>1319. 连通网络的操作次数 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-1202-交换字符串中的元素-力扣（LeetCode）" href="#1202-交换字符串中的元素-力扣（LeetCode）"><span>1202. 交换字符串中的元素 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-面试题-17-07-婴儿名字-力扣（LeetCode）" href="#面试题-17-07-婴儿名字-力扣（LeetCode）"><span>面试题 17.07. 婴儿名字 - 力扣（LeetCode）</span></a></li><li><a class="is-flex" id="toc-item-130-被围绕的区域-力扣（LeetCode）" href="#130-被围绕的区域-力扣（LeetCode）"><span>130. 被围绕的区域 - 力扣（LeetCode）</span></a></li></ul></li><li><a class="is-flex" id="toc-item-路径压缩" href="#路径压缩"><span>路径压缩</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-python-版的路径压缩" href="#python-版的路径压缩"><span>python 版的路径压缩</span></a></li><li><a class="is-flex" id="toc-item-隔代路径压缩" href="#隔代路径压缩"><span>隔代路径压缩</span></a></li><li><a class="is-flex" id="toc-item-完全路径压缩" href="#完全路径压缩"><span>完全路径压缩</span></a></li></ul></li></ul></div></div><script type="text/javascript" async>
        $(document).ready(function () { //参考自 https://github.com/ppoffice/hexo-theme-icarus/pull/616/files
            var observerTopMargin;
            var scrollObserver;
            var headerElems = $(".headerlink");
            var activeTocItem;
        
            function initIntersectionObserver(docHeight) {
                observerTopMargin = docHeight;
                scrollObserver = new IntersectionObserver(scrollCallBack,
                    {
                        root: null,  // viewpoint
                        rootMargin: docHeight + "px 0px -80% 0px"  // cover top 30% of viewport to the top of document
                    })
            }
        
            function scrollCallBack(entries, observer) {
                if ($(window).scrollTop() > observerTopMargin * 0.7) { 
                    // User somehow scroll to 70% of observerTopMargin (which is inited as 200% document height)
                    // Observer top margin need to extend to cover all the space to the top of the document
                    initIntersectionObserver(observerTopMargin * 2)
                    observer.disconnect();
                    return;
                }
                let toActive;
                if (entries[0].intersectionRatio == 1) {  // enter viewed area
                    let entry = entries.reduce((u, v) => (u.target.toc_id > v.target.toc_id ? u : v));  // get the lowest item
                    toActive = $("#toc-item-" + $(entry.target).attr("href").substr(1));
                } else {
                    let entry = entries.reduce((u, v) => (u.target.toc_id < v.target.toc_id ? u : v));  // get the highest item
                    let idx = Math.max(entry.target.toc_id - 1, 0);
                    toActive = $("#toc-item-" + $(headerElems[idx]).attr("href").substr(1));
                }
                if (activeTocItem) activeTocItem.removeClass("is-current");
                activeTocItem = toActive
                activeTocItem.addClass("is-current");
            }
        
            initIntersectionObserver($(document).height() * 2);
            headerElems.each(function (index, obj) {
                obj.toc_id = index;
                scrollObserver.observe(obj);
            })
        });</script></div><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="https://i.loli.net/2020/02/27/giKJ3UbFhv69o7T.jpg" alt="zronghui"></figure><p class="title is-size-4 is-block line-height-inherit">zronghui</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">582</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">49</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">48</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/zronghui" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/zronghui"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-01T14:15:50.000Z">2020-12-01</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AMySQL8-cookbook%E3%80%8B-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《MySQL8 cookbook》 阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:16:28.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8ARedis-%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E3%80%8B.html">《Redis 设计与实现》</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:16:13.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AMongoDB-%E5%AE%9E%E6%88%98%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《MongoDB 实战》阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T14:15:56.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8ALinux-Shell-%E8%84%9A%E6%9C%AC%E6%94%BB%E7%95%A5%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html">《Linux Shell 脚本攻略》阅读笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-29T07:52:12.000Z">2020-11-29</time></p><p class="title is-6"><a class="link-muted" href="/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4-MYSQL45%E8%AE%B2-%E7%AC%94%E8%AE%B0.html">极客时间-MYSQL45讲-笔记</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Chrome/"><span class="level-start"><span class="level-item">Chrome</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Leetcode-weekly-contest/"><span class="level-start"><span class="level-item">Leetcode weekly contest</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Mac/"><span class="level-start"><span class="level-item">Mac</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/blockchain/"><span class="level-start"><span class="level-item">blockchain</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/docker-k8s/"><span class="level-start"><span class="level-item">docker k8s</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/frontEnd/"><span class="level-start"><span class="level-item">frontEnd</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/go/"><span class="level-start"><span class="level-item">go</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">40</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/java/Collections/"><span class="level-start"><span class="level-item">Collections</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li></ul></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Array/"><span class="tag">Array</span><span class="tag is-grey-lightest">35</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tree/"><span class="tag">Tree</span><span class="tag is-grey-lightest">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dynamic-Programming/"><span class="tag">Dynamic Programming</span><span class="tag is-grey-lightest">21</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Binary-Search/"><span class="tag">Binary Search</span><span class="tag is-grey-lightest">20</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hash-Table/"><span class="tag">Hash Table</span><span class="tag is-grey-lightest">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Depth-first-Search/"><span class="tag">Depth-first Search</span><span class="tag is-grey-lightest">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag is-grey-lightest">16</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Math/"><span class="tag">Math</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Two-Pointers/"><span class="tag">Two Pointers</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/String/"><span class="tag">String</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linked-List/"><span class="tag">Linked List</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Stack/"><span class="tag">Stack</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Backtracking/"><span class="tag">Backtracking</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Heap/"><span class="tag">Heap</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Breadth-first-Search/"><span class="tag">Breadth-first Search</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tricks/"><span class="tag">tricks</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Design/"><span class="tag">Design</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bit-Manipulation/"><span class="tag">Bit Manipulation</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sort/"><span class="tag">Sort</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Divide-and-Conquer/"><span class="tag">Divide and Conquer</span><span class="tag is-grey-lightest">5</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=zronghui&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="zronghui" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div><p class="help">输入邮箱开始订阅，更博后邮件通知！</p></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://www.wntool.com/logo/image.php?output=png?fsize=35&amp;font=Snow.ttf&amp;text=zronghui&amp;mirror=No&amp;color=9933FF&amp;vcolor=3333FF&amp;bgcolor=FFFFFF&amp;alpha=yes&amp;output=png&amp;spacing=5&amp;shadow=no&amp;transparent=yes&amp;icon=no&amp;iconic=&amp;top_spacing=5&amp;left_spacing=6&amp;icon_size=48" alt="zronghui的博客" height="28"></a><p class="size-small"><span>&copy; 2020 zronghui</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>,Modify by <a href="https://github.com/removeif" target="_blank">removeif</a> <br>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br>    方便于网友与自己学习交流，如有侵权，请<a href="https://zronghui.github.io/message/" target="_blank">留言</a>，立即处理]<br><script type="text/javascript" src="/js/statistics.js"></script><span id="statistic-times"></span><br></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/zronghui"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-Hans");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://zronghui.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script src="/js/gallery.js" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/comment-issue-data.js" defer></script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: '文章',
                    PAGES: '页面',
                    CATEGORIES: '分类',
                    TAGS: '标签',
                    UNTITLED: '(无标题)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script></body></html>